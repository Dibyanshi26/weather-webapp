"use strict";!function(e,t,r){function n(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:d[e.which]?d[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function o(e,t){var r,n=[],i=e;for("+"===i?i=["+"]:i=(i=i.replace(/\+{2}/g,"+plus")).split("+"),r=0;r<i.length;++r){var o=i[r];p[o]&&(o=p[o]),t&&"keypress"!=t&&h[o]&&(o=h[o],n.push("shift")),s(o)&&n.push(o)}if(i=o,!(r=t)){if(!u)for(var a in u={},l)95<a&&112>a||l.hasOwnProperty(a)&&(u[l[a]]=a);r=u[i]?"keydown":"keypress"}return"keypress"==r&&n.length&&(r="keydown"),{key:o,modifiers:n,action:r}}function a(e,r){return null!==e&&e!==t&&(e===r||a(e.parentNode,r))}function c(e){function r(e){e=e||{};var t,r=!1;for(t in g)e[t]?r=!0:g[t]=0;r||(S=!1)}function a(e,t,r,n,i,o){var a,c=[],u=r.type;if(!p._callbacks[e])return[];for("keyup"==u&&s(e)&&(t=[e]),a=0;a<p._callbacks[e].length;++a){var l,d=p._callbacks[e][a];if((n||!d.seq||g[d.seq]==d.level)&&u==d.action)(l="keypress"==u&&!r.metaKey&&!r.ctrlKey)||(l=d.modifiers,l=t.sort().join(",")===l.sort().join(",")),l&&(l=n&&d.seq==n&&d.level==o,(!n&&d.combo==i||l)&&p._callbacks[e].splice(a,1),c.push(d))}return c}function u(e,t,r,n){p.stopCallback(t,t.target||t.srcElement,r,n)||!1!==e(t,r)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);t&&("keyup"==e.type&&v===t?v=!1:p.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e))}function d(e,t,n,s){function a(t){return function(){S=t,++g[e],clearTimeout(m),m=setTimeout(r,1e3)}}function c(t){u(n,t,e),"keyup"!==s&&(v=i(t)),setTimeout(r,10)}for(var l=g[e]=0;l<t.length;++l){var d=l+1===t.length?c:a(s||o(t[l+1]).action);h(t[l],d,s,e,l)}}function h(e,t,r,n,i){p._directMap[e+":"+r]=t;var s=(e=e.replace(/\s+/g," ")).split(" ");1<s.length?d(e,s,t,r):(r=o(e,r),p._callbacks[r.key]=p._callbacks[r.key]||[],a(r.key,r.modifiers,{type:r.action},n,e,i),p._callbacks[r.key][n?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:n,level:i,combo:e}))}var p=this;if(e=e||t,!(p instanceof c))return new c(e);p.target=e,p._callbacks={},p._directMap={};var m,g={},v=!1,f=!1,S=!1;p._handleKey=function(e,t,n){var i,o=a(e,t,n);t={};var c=0,l=!1;for(i=0;i<o.length;++i)o[i].seq&&(c=Math.max(c,o[i].level));for(i=0;i<o.length;++i)o[i].seq?o[i].level==c&&(l=!0,t[o[i].seq]=1,u(o[i].callback,n,o[i].combo,o[i].seq)):l||u(o[i].callback,n,o[i].combo);o="keypress"==n.type&&f,n.type!=S||s(e)||o||r(t),f=l&&"keydown"==n.type},p._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)h(e[n],t,r)},n(e,"keypress",l),n(e,"keydown",l),n(e,"keyup",l)}if(e){var u,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(r=1;20>r;++r)l[111+r]="f"+r;for(r=0;9>=r;++r)l[r+96]=r.toString();c.prototype.bind=function(e,t,r){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,r),this},c.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},c.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},c.prototype.reset=function(){return this._callbacks={},this._directMap={},this},c.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||a(t,this.target))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},c.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},c.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);u=null},c.init=function(){var e,r=c(t);for(e in r)"_"!==e.charAt(0)&&(c[e]=function(e){return function(){return r[e].apply(r,arguments)}}(e))},c.init(),e.Mousetrap=c,"undefined"!=typeof module&&module.exports&&(module.exports=c),"function"==typeof define&&define.amd&&define("mousetrap",(function(){return c}))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),define("VSS/Platform",["require","exports","VSS/Core/Observable","VSS/Core/Util/String","VSS/Core/Util/Theming","create-react-class","prop-types","react","react-dom","VSS/Core/EventManagement","VSS/Core/TimerManagement","VSS/Core/Util/Promise"],(function(e,t,r,n,i,s,o,a,c,u,l,d){var h,p,m,g,v,f,S,b,y,C,P,T,E,I,w,_,R,D,k,x,N,F,A,M,V,L,O,U,q,j,z;h=t[z="Resources"]={},t[z].CdnFallbackErrorMessage="There was an error loading a required file. Would you like to reload the page to try to load again?",t[z].NetworkError="TF400893: Unable to contact the server. Please check your network connection and try again.",t[z].JustNow="Just now",t[z].AgoMinutes="{0}m ago",t[z].AgoHours="{0}h ago",t[z].Today="Today",t[z].Yesterday="Yesterday",t[z].DayAtTimeFormat="{0} at {1}",t[z].LessThanASecond="<1s",t[z].Seconds="{0}s",t[z].MinutesSeconds="{0}m {1}s",t[z].HoursMinutesSeconds="{0}h {1}m {2}s",t[z].DaysHoursMinutes="{0}d {1}h {2}m",t[z].Global="Global",function(e){p=t[e]={};const r=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");function n(e){let t=null;if(e){const n=e.replace(r,'$1{"__msjson_date__":$2 }');t=JSON.parse(n),n!==e&&function e(t,r,n){if(r&&"number"==typeof t.__msjson_date__)r[n]=new Date(t.__msjson_date__);else for(const r in t){const n=t[r];null!==n&&"object"==typeof n&&e(t[r],t,r)}}(t,null,"")}return t}function i(e,t,r){window.jsonIslandData||(window.jsonIslandData={}),window.jsonIslandData[e]=t,r&&(window[e]=t)}t[e].deserializeVssJsonObject=n,t[e].readJsonScript=function(e,t,r){if(window.jsonIslandData&&window.jsonIslandData[e])return window.jsonIslandData[e];const s=document.getElementById(e);let o=null;if(s){const e=s.textContent;e&&(o=n(e)),r&&s.parentElement&&s.parentElement.removeChild(s)}return i(e,o,t),o},t[e].updateJsonScriptValue=i}("UtilSerialization"),function(e){t[e]={},function(e){e[e.Unknown=0]="Unknown",e[e.Deployment=1]="Deployment",e[e.Application=2]="Application",e[e.Organization=2]="Organization",e[e.ProjectCollection=4]="ProjectCollection"}(t[e].ContextHostType||(t[e].ContextHostType={})),function(e){e[e.Default=0]="Default",e[e.Resource=1]="Resource",e[e.ThirdParty=2]="ThirdParty"}(t[e].ContributionPathType||(t[e].ContributionPathType={})),function(e){e[e.None=0]="None",e[e.Deployment=1]="Deployment",e[e.Application=2]="Application",e[e.Collection=4]="Collection",e[e.Project=8]="Project",e[e.Team=16]="Team",e[e.ApplicationAll=30]="ApplicationAll",e[e.All=31]="All"}(t[e].NavigationContextLevels||(t[e].NavigationContextLevels={}))}("ContractsPlatform"),function(e){let n,i;m=t[e]={};class s{_serviceStart(e){this.pageContext=e}_serviceEnd(e){}_serviceRestart(e){this.pageContext=e}}t[e].VssService=s;t[e].VssObservableService=class extends s{constructor(){super(...arguments),this.observable=new r.Observable}subscribe(e,t){return this.observable.subscribe(e,t)}unsubscribe(e,t){this.observable.unsubscribe(e,t)}_notify(e,t,r){this.observable.notify(e,t,r)}},t[e].Services=new r.ObservableObject,t[e].RemoteSerializationSettingsKey="__remoteSerializationSettings",function(e){e[e.Strict=0]="Strict",e[e.Eventual=1]="Eventual"}(t[e].IVssReadConsistencyLevel||(t[e].IVssReadConsistencyLevel={})),t[e].RestClients=new r.ObservableObject;function o(r,n){r[t[e].RemoteSerializationSettingsKey]=n}t[e].setRemoteSerializationSettings=o;const a=new class{constructor(e,t){this.initializationInProgress={},this.delayedServices=[],this.serviceInstances={},this.uniqueNumber=0,this.platformInitialized=new r.ObservableValue(!1),this.services=e,this.restClients=t;this.services.subscribe(((e,t)=>{"add"===t&&e&&e.value&&e.value.options&&4==(4&e.value.options)&&(this.contentLoaded?this.getService(e.key):this.delayedServices.push(e.key))}));const n=window.__useEntraToken,i=()=>{this.contentLoaded=!0;for(const e of this.delayedServices)this.getService(e);this.platformInitialized.value=!0,document.body.addEventListener("fpsLoading",(e=>{this.platformInitialized.value=!1})),document.body.addEventListener("fpsCompleted",(e=>{e.detail.success&&(this.platformInitialized.value=!0)})),document.body.addEventListener("fpsLoaded",(e=>{const t={};this.contextUnloadInProgress=!0;for(const e in this.serviceInstances){const r=this.services.get(e);if(r&&r.options&&2==(2&r.options))t[e]=this.serviceInstances[e];else{const t=this.serviceInstances[e];if(t._serviceEnd)try{t._serviceEnd(this)}catch(e){console.error(e)}delete this.serviceInstances[e]}}this.contextUnloadInProgress=!1;for(const e in t){const r=t[e];r&&r._serviceRestart&&r._serviceRestart(this)}for(const e of this.services.keys()){const t=this.services.get(e);t&&t.options&&4==(4&t.options)&&(this.serviceInstances[e]||this._loadService(e,t))}})),n&&document.dispatchEvent(new CustomEvent("NWPContentLoaded",{}))};n?(document.addEventListener("authenticationInitialized",(()=>{i()})),document.addEventListener("DOMContentLoaded",(()=>{try{this.getService("ITokenProviderService")}catch(e){console.log(e),i()}}))):document.addEventListener("DOMContentLoaded",(()=>{i()}))}getService(e,t,r){if(this.contextUnloadInProgress)throw new Error("Services can't be requested while a shutdown is in progress");{let n=this.serviceInstances[e];if(!n){const i=this.services.get(e);if(i&&(!i.options||8!=(8&i.options)))if(t&&i.options&&1!=(1&i.options)){if(!r)throw new Error(`The ${e} service is not marked as remotable.`)}else n=this._loadService(e,i);if(!n&&!r)throw new Error(`No service has been registered with the name "${e}".`)}return n}}getRestClient(e,t){const r=this.restClients.get(e);if(!r)throw new Error(`No REST client has been registered with the name "${e}".`);const n=this.getService("IRestClientOptionsProviderService").populateRestClientOptions(r.options,t);return new r.factory(n)}getUniqueNumber(){return++this.uniqueNumber}_loadService(e,t){let r;if(this.initializationInProgress[e])throw new Error("Unable to initialize service due to cyclic dependency: "+e);try{this.initializationInProgress[e]=!0,r=new t.serviceFactory,t.options&&1==(1&t.options)&&o(r,{proxyFunctions:!0,ignoredProperties:{pageContext:!0}}),r._serviceStart&&r._serviceStart(this)}catch(t){throw delete this.initializationInProgress[e],t}return this.serviceInstances[e]=r,delete this.initializationInProgress[e],r}}(t[e].Services,t[e].RestClients);function c(e){if(!n){const t=a.getService("IVssContributionService",void 0,!0),r=null==t?void 0:t.getData(e);n=null==r?void 0:r.pageContext}return n}o(a,{proxyFunctions:!1,ignoredProperties:{pageContext:!0,serviceInstances:!0,services:!0,restClients:!0}}),t[e].getDefaultRawPageContext=c;t[e].getPageContext=e=>{var t;if(!i){const r=c(e);r&&(i=null!==(t=(0,p.deserializeVssJsonObject)(JSON.stringify(r)))&&void 0!==t?t:void 0)}return i},t[e].getService=function(e){return a.getService(e,void 0,!0)}}("Context"),function(e){function r(e,t,r="/",n,i){const s=[`${e}=${t}`,`path=${r}`];n&&s.push(`expires=${n}`),i&&s.push(`max-age=${i}`),-1!==window.location.protocol.indexOf("https")&&s.push("secure"),document.cookie=s.join(";")}g=t[e]={},t[e].getCookie=function(e){if(document.cookie&&document.cookie.length>0&&e){const t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length))}}return""},t[e].setCookie=r,t[e].deleteCookie=function(e,t="/"){r(e,"",t,"Thu, 01 Jan 1970 00:00:01 GMT")}}("UtilCookie"),function(e){v=t[e]={};let n=0;const i=new r.Observable;t[e].requestListeners=i,t[e].bypassAuthProviderCookieName="BypassAuthTokenProvider",t[e]._issueRequest=async function(r,s,o){var a;const c=++n;let u;try{let n;if(i.notify({requestId:c,requestUrl:r,options:s,vssRequestOptions:o},"beforeRequest"),s||(s={}),s.headers){if(s.headers instanceof Headers)n=s.headers;else if(n=new Headers,"function"==typeof s.headers.hasOwnProperty)for(const e in s.headers)s.headers.hasOwnProperty(e)&&n.append(e,s.headers[e])}else n=new Headers;if(s.headers=n,o){const e=o.sessionId,t=o.command;e&&(t?n.append("X-TFS-Session",e+","+t):n.append("X-TFS-Session",e))}s.credentials="same-origin",(null===(a=null==o?void 0:o.authTokenProvider)||void 0===a?void 0:a.omitCredentials)&&(s.credentials="omit");const l=(0,g.getCookie)("AzDevRequestFaults");l&&n.append("AzDevRequestFaults",l);let d=!1;for(;;){if(o&&o.authTokenProvider&&!(0,g.getCookie)(t[e].bypassAuthProviderCookieName)){const e=await o.authTokenProvider.getAuthorizationHeader(d);e&&n.set("Authorization",e);const t=o.authTokenProvider.providerName;t&&n.set("X-VSS-ClientAuthProvider",t),o.authTokenProvider.skipFedAuthRedirectHeader||n.set("X-TFS-FedAuthRedirect","Suppress")}try{u=await fetch(r,s)}catch(e){console.warn(`Unhandled exception in fetch for ${r}: ${e&&e.toString()}`);const t=new Error(h.NetworkError);throw t.name="NetworkException",t}if(401!==u.status||d||!o||!o.authTokenProvider)break;d=!0}if(!u.ok){const e=new Error;if(e.name="TFS.WebApi.Exception",e.status=u.status,e.responseText=await u.text(),e.responseText&&""!==e.responseText)try{e.serverError=JSON.parse(e.responseText),e.serverError&&e.serverError.message?e.message=e.serverError.message:e.serverError&&e.serverError.error&&e.serverError.error.message&&(e.message=e.serverError.error.message)}catch(e){}throw e.message||(e.message=u.status+": "+u.statusText),e}}finally{i.notify({requestId:c,requestUrl:r,response:u,vssRequestOptions:o},"afterRequest")}return u}}("IssueRequest"),function(e){t.Content={};const n=new class{constructor(){this.pendingContent={},this.loadedContent={},this.contentLengthsByContributionId={},this.observable=new r.Observable,window.__contentLoaded=this.loadComplete.bind(this),window.__loadScript=this.loadScript.bind(this)}isContentAvailable(e){return!!this.loadedContent[this.getContentId(e)]}getContributionContentLengths(e){return this.contentLengthsByContributionId[e]}loadScript(e){let t;const r=this.getContentId(e);if(window.__IS_REACT_18_ENABLED&&!window.__IS_BUNDLING_ENABLED){if(r.includes("react/umd/react")||r.includes("react-dom/umd/react"))return Promise.resolve(e)}else if(r.includes("react-next")||r.includes("react-dom-next"))return Promise.resolve(e);if(this.loadedContent[r])t=Promise.resolve(e);else if(this.pendingContent[r])t=this.pendingContent[r].loadPromise;else{const n=window.performance.now();t=new Promise(((t,r)=>{let n;"text/javascript"===e.contentType?(n=document.createElement("script"),n.async=!!e.priority&&e.priority>=100,n.src=e.url,e.integrity&&(n.integrity=e.integrity,n.crossOrigin="anonymous"),e.moduleNamespaces&&e.moduleNamespaces.length&&(window.__moduleNamespaces||(window.__moduleNamespaces=[]),window.__moduleNamespaces=window.__moduleNamespaces.concat(e.moduleNamespaces))):(n=document.createElement("link"),n.href=e.url,n.rel="stylesheet",n.crossOrigin="anonymous",e.integrity&&(n.integrity=e.integrity),n.setAttribute("crossorigin","anonymous")),n.setAttribute("data-contentlength",e.contentLength.toString()),e.clientId&&n.setAttribute("data-clientid",e.clientId),e.contributionId&&n.setAttribute("data-sourcecontribution",e.contributionId),n.addEventListener("load",(e=>{t(this.loadComplete(e.target,!0))})),n.addEventListener("error",(e=>{r(this.loadComplete(e.target,!1))})),document.head.appendChild(n)})),this.pendingContent[r]={startTime:n,loadPromise:t}}return t}subscribe(e){this.observable.subscribe(e)}getContentId(e){return e.clientId||e.url}loadComplete(e,t,r,n){const i={contentLength:parseInt(e.getAttribute("data-contentlength")),clientId:e.getAttribute("data-clientid"),contentType:"SCRIPT"===e.tagName.toUpperCase()?"text/javascript":"text/css",contributionId:e.getAttribute("data-sourcecontribution"),url:e instanceof HTMLScriptElement?e.src:e.href,integrity:e.getAttribute("integrity")},s=this.getContentId(i),o=this.pendingContent[s];delete this.pendingContent[s];const a={contentAttributes:i,contentElement:e,loadEnd:r=r||window.performance.now()};if(n&&(a.previousResourceLoadEnd=n),o&&(a.loadStart=o.startTime),t){if(this.loadedContent[s]=a,i.contributionId){let e=this.contentLengthsByContributionId[i.contributionId];e||(this.contentLengthsByContributionId[i.contributionId]=e={}),e[i.contentType]=(e[i.contentType]||0)+i.contentLength}this.observable.notify(a,"contentComplete",!0)}else this.observable.notify(a,"contentLoadError",!0);return i}};class i extends m.VssObservableService{constructor(){super(...arguments),this.completedContributions={},this.scriptComplete=(e,t)=>{const r=e.contributionId,n=t[r];if(n&&(t[r]=n-1,1===n))if(this.completedContributions[r])this.completedContributions[r].resolved=!0;else{const e={contributionId:r,resolved:!0};this._notify(e,"contributionComplete",!0),this.completedContributions[r]=e}return e}}_serviceStart(e){super._serviceStart(e),n.subscribe(((e,t)=>{this._notify(e,t,!0)}));const t=document.querySelectorAll("[data-sourcecontribution]");for(let e=0;e<t.length;e++){const r=t[e].getAttribute("data-sourcecontribution");if(!this.completedContributions[r]){const e={contributionId:r,resolved:!0};this._notify(e,"contributionComplete",!0),this.completedContributions[r]=e}}}isLoaded(e){return!!this.completedContributions[e]}loadScripts(e){const t=[],r={};for(const i of e){if(!n.isContentAvailable(i)){const e=i.contributionId;e&&(r[e]?r[e]=r[e]+1:r[e]=1)}t.push(n.loadScript(i).then((e=>this.scriptComplete(e,r)),(e=>this.scriptComplete(e,r))))}return Promise.all(t)}getContributionContentLengths(e){return n.getContributionContentLengths(e)}resetResolvedContent(){for(const e in this.completedContributions)this.completedContributions[e].resolved=!1}}m.Services.add("IVssContentService",{serviceFactory:i,options:6})}(),t.IPlatformRestErrorHandler={},function(e){f=t[e]={};class r{constructor(e,t){e&&this._setFromUriString(e,t)}get absoluteUri(){let e="";if(this.scheme&&(e=encodeURI(decodeURI(this.scheme))+":",this.noSchemeSeparator||(e+="//")),this.host&&(e+=encodeURI(decodeURI(this.host)),this.port&&(e+=":"+this.port),this.noSchemeSeparator&&!this.path||(e+="/")),this.path){let t;if(this.noSchemeSeparator)t=encodeURI(decodeURI(this.path));else{t=this.path.split("/").map((e=>encodeURI(decodeURI(e.replace(/%/g,"%25"))))).join("/").replace(/%25/g,"%")}this.host?e=c(e,t):e+=t}const t=this.queryString;return t&&(e+="?"+t),this.hashString&&(e+="#"+encodeURI(this.hashString)),e}set absoluteUri(e){this._setFromUriString(e||"")}get queryString(){return a(this.queryParameters)}set queryString(e){this.queryParameters=o(e)}getEffectivePort(){return this.port?this.port:n.equals(this.scheme,"http",!0)?80:n.equals(this.scheme,"https",!0)?443:0}getQueryParam(e){let t;if(this.queryParameters){const r=this.queryParameters.filter((t=>n.equals(t.name,e,!0)));r.length>0&&(t=r[0].value)}return t}addQueryParam(e,t,r){r&&this.removeQueryParam(e),this.queryParameters||(this.queryParameters=[]),this.queryParameters.push({name:e,value:t})}addQueryParams(e,t,r){for(const n in e){const i=e[n];if(null!=i){const e=(r||"")+n;i instanceof Date?this.addQueryParam(e,i.toJSON(),t):Array.isArray(i)?i.forEach((r=>this.addQueryParam(e,""+r,t))):"object"==typeof i?this.addQueryParams(i,t,e+"."):this.addQueryParam(e,""+i,t)}}}removeQueryParam(e){this.queryParameters&&(this.queryParameters=this.queryParameters.filter((t=>!n.equals(t.name,e,!0))))}_setFromUriString(e,t){let r=e;const n=s(r,"#");n?(r=n.part1,this.hashString=i(n.part2)):this.hashString="";const o=s(r,"?");o?(r=o.part1,this.queryString=o.part2):this.queryParameters=[],this.scheme="",this.host="",this.port=0,this.path="",this.noSchemeSeparator=!1;const a=s(r,":");if(a)if(this.scheme=a.part1,r=a.part2,"//"===r.substr(0,2)){r=r.substr(2);const e=s(r,"/");e?(r=e.part1,this.path=e.part2):this.path="";const t=s(r,":");t?(this.host=t.part1,this.port=parseInt(t.part2),isNaN(this.port)&&(this.host+=":",this.path=t.part2+"/"+this.path)):this.host=r}else this.noSchemeSeparator=!0,this.path=r;else this.path=r;if(t&&t.absoluteUriRequired&&!this.scheme)throw new Error(`The uri string "${e}" does not represent a valid absolute uri.`)}}function i(e){return e&&(e=e.replace(/\+/g,"%20"),e=decodeURIComponent(e)),e}function s(e,t){const r=e.indexOf(t);return r>=0?{part1:e.substr(0,r),part2:e.substr(r+1)}:void 0}function o(e){const t=[];return e.split("&").forEach((e=>{if(e){const r=s(e,"=");r?t.push({name:i(r.part1),value:i(r.part2)}):t.push({name:i(e),value:null})}})),t}function a(e){return e&&e.length?e.map((e=>null!==e.value?"string"!=typeof e.value?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):encodeURIComponent(e.name)+"="+e.value.split("/").map((e=>encodeURIComponent(e))).join("/"):encodeURIComponent(e.name))).join("&"):""}function c(...e){const t=[];for(let r=0,n=e.length-1;r<=n;r++){let i=e[r];i&&("/"!==i||0!==r&&r!==n?(r>0&&"/"===i[0]&&(i=i.substr(1)),r<n&&"/"===i[i.length-1]&&(i=i.substr(0,i.length-1)),i&&t.push(i)):t.push(""))}return 1===t.length&&""===t[0]?"/":t.join("/")}function u(e){const t={segments:[]};let r=-1,n=-1,i="";for(let s=0,o=e.length;s<o;s++){const o=e.charCodeAt(s);if(r>=0){if(125===o){let n=e.substring(r,s),i=!1;42===n.charCodeAt(0)&&(n=n.substr(1),i=!0),t.segments.push({paramName:n,isWildCardParam:i}),r=-1}}else if(123===o&&123!==e.charCodeAt(s+1)){if(i||n>=0){let r=i;n>=0&&(r+=e.substring(n,s)),r&&t.segments.push({text:r}),n=-1,i=""}r=s+1}else(123===o&&123===e.charCodeAt(s+1)||125===o&&125===e.charCodeAt(s+1))&&(i+=e.substring(n>=0?n:s,s+1),n=-1,s++),n<0&&(n=s)}if(n>=0||r>=0){const s=i+e.substring(n>=0?n:r);s&&t.segments.push({text:s})}let s=!1;for(let e=t.segments.length-1;e>=0;e--){const r=t.segments[e];r.text&&"/"!==r.text?s=!0:s&&r.paramName&&(r.isRequiredParam=!0)}return t}function l(e,t){let r;const n=Object.keys(t).length;for(const i of e){const e=d(i,t,!1);if(e&&(!r||e.matchedParametersCount>r.matchedParametersCount||e.matchedParametersCount===r.matchedParametersCount&&0===e.unmatchedParametersCount&&r.unmatchedParametersCount>0)&&(r=e,e.matchedParametersCount===n))return r}return r}function d(e,t,r){const n=[],i={};let s=0;for(let o=0,a=e.segments.length;o<a;o++){const a=e.segments[o];if(a.text){let e=a.text;r&&o>0&&"/"===e.charAt(0)&&0===n.length&&(e=e.substr(1)),e&&n.push(e)}else{const e=t[a.paramName];if(e||0===e)n.push(a.isWildCardParam?encodeURI(""+e):encodeURIComponent(""+e)),i[a.paramName]=!0,s++;else{if(!r){if(a.isRequiredParam)return;break}if(n.length){const e=n[n.length-1];"/"===e[e.length-1]&&(n[n.length-1]=e.substr(0,e.length-1))}}}}const o=e.segments.filter((e=>e.paramName)).length-s;return{url:n.join(""),matchedParameters:i,matchedParametersCount:s,unmatchedParametersCount:o}}function h(e,t){const i=new r(e),s=new r(t);return n.equals(i.host,s.host,!0)&&i.getEffectivePort()===s.getEffectivePort()}t[e].Uri=r,t[e].parseQueryString=o,t[e].toQueryString=a,t[e].combineUrlPaths=c,t[e].resolveRelativePath=function(e){const t=e.split("/").filter((e=>"."!==e));let r;for(;(r=t.indexOf(".."))>0;)t.splice(r-1,2);return t.join("/")},t[e].parseRouteTemplate=u,t[e].routeUrl=function(e,t){const n=l(e,t);if(!n)return"";const i=new r(n.url);for(const e in t)n.matchedParameters[e]||i.addQueryParam(e,t[e]);return i.absoluteUri},t[e].getBestRouteMatch=l,t[e].replaceParsedRouteValues=d,t[e].replaceRouteValues=function(e,t){return d(u(e),t,!0).url},t[e].isSameOrigin=h,t[e].isUrlValid=function(e){if(""===e.trim())return!1;try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}},t[e].isExternalUrl=function(e){let t=!1;try{t=function(e){if(!e)return!1;return e=e.toLowerCase(),0===e.indexOf("http:")||0===e.indexOf("https:")||0===e.indexOf("//")}(e)&&!h(e,window.location.href)}catch(e){t=!0}return t}}("UtilUrl"),function(e){S=t[e]={};t[e].RestClientBase=class{constructor(e){this._options=e||{},"string"==typeof this._options.rootPath?this._rootPath=Promise.resolve(this._options.rootPath):this._rootPath=this._options.rootPath||Promise.resolve("/")}async getRootPath(){return this._rootPath}async beginRequest(e){return this._rootPath.then((t=>{let r=t+(0,f.replaceRouteValues)(e.routeTemplate,e.routeValues||{});if(e.queryParams){const t=new f.Uri(r);t.addQueryParams(e.queryParams),r=t.absoluteUri}let n={debounceEnabled:!1},i=null;if(this._options.pageContext&&this._options.resourceAreaId&&(i=this._options.pageContext.getService("IRestClientDebounceService"),n=i.getDebounceConfiguration(this._options.resourceAreaId,r,e)),n.debounceEnabled&&n.uniqueId&&i){const t=i.getDebouncedPromise(n.uniqueId);if(t){try{this._options.pageContext.getService("IVssTelemetryService").publishEvent("RestClientBase","DebouncedRequest",{restAreaId:this._options.resourceAreaId,url:r,routeTemplate:e.routeTemplate,method:e.method,apiVersion:e.apiVersion})}catch(e){console.warn("Error publishing debounced request telemetry",e)}return t}}const s=this._issueRequest(r,e.apiVersion,e);return n.debounceEnabled&&n.uniqueId&&i&&n.timeout&&i.setDebouncedPromise(n.uniqueId,s,n.timeout),s}))}async _issueRequest(e,t,r,n=0){const i={};if(!this._options.ignoreQueue&&this._options.pageContext){const e=this._options.pageContext.getService("IPlatformRestErrorHandlerService");await(null==e?void 0:e.requestsEnabled())}i.method=r.method||"GET",i.mode="cors",!r.isRawData&&r.body&&"GET"!==i.method.toUpperCase()?i.body=JSON.stringify(r.body):i.body=r.body;const s=r.httpResponseType||"application/json",o=`${s};api-version=${t};excludeUrls=true;enumsAsNumbers=true;msDateFormat=true;noArrayWrap=true`;i.headers=Object.assign(Object.assign(Object.assign({Accept:o},r.body&&{"Content-Type":"application/json"}),this._options.readConsistencyLevel&&{"X-VSS-ReadConsistencyLevel":m.IVssReadConsistencyLevel[this._options.readConsistencyLevel]}),r.customHeaders);const a={authTokenProvider:this._options.authTokenProvider,sessionId:this._options.sessionId,command:r.command||this._options.command};let c,u,l=0;for(;;)try{l++;const t=(0,v._issueRequest)(e,i,a);return c=await t,r.returnRawResponse?c:s.toLowerCase().indexOf("json")>=0?(u=await c.text(),(0,p.deserializeVssJsonObject)(u)):"text/plain"===s.toLowerCase()?c.text():c.arrayBuffer()}catch(e){if(1!==await this._handleError(l,u,c,e))throw e}}async _handleError(e,t,r,n){const i=this._options.pageContext;return i&&this._options.errorHandler?this._options.errorHandler(i,e,t,r,n):2}};class r extends m.VssService{constructor(){super(...arguments),this.debouncedFetchPromises=new Map,this.endpointConfigurations=new Map,this.debounceEnabled=!1,this.postRequestsEnabled=!1,this.defaultDebounceTimeout=100}getDebouncedPromise(e){const t=this.debouncedFetchPromises.get(e);if(t){if(t.expiresAtTimestamp>Date.now())return t.promise;this.debouncedFetchPromises.delete(e)}}setDebouncedPromise(e,t,r){this.debouncedFetchPromises.set(e,{promise:t,expiresAtTimestamp:Date.now()+r}),setTimeout((()=>{this.debouncedFetchPromises.delete(e)}),2*r)}_serviceStart(e){var t;super._serviceStart(e);const r=e.getService("IVssContributionService").getData("ms.vss-web.debounce-api-calls-data");r&&(this.debounceEnabled=r.enabled,this.postRequestsEnabled=null===(t=r.postRequestsEnabled)||void 0===t||t,this.defaultDebounceTimeout=r.defaultTimeout?r.defaultTimeout:this.defaultDebounceTimeout,r.endpointConfigurations.forEach((e=>{this.endpointConfigurations.set(`${e.areaId}|${e.apiVersion}|${e.routeTemplate}|${e.httpMethod}`,e)})))}getDebounceConfiguration(e,t,r){var n,i,s,o,a,c,u,l,d,h;if(this.debounceEnabled&&!r.returnRawResponse)if(this.postRequestsEnabled){const c=null!==(i=null===(n=r.method)||void 0===n?void 0:n.toUpperCase())&&void 0!==i?i:"GET";if(("GET"===c||"POST"===c)&&!1!==r.debounce){if("POST"===c&&r.isRawData)return{debounceEnabled:!1};const n=this.getEndpointConfiguration(e,r);if(n)return{debounceEnabled:n.debounce,uniqueId:this.getUniqueIdForRequest(e,t,r),timeout:null!==(o=null!==(s=n.debounceTimeout)&&void 0!==s?s:r.debounceTimeout)&&void 0!==o?o:this.defaultDebounceTimeout};const i="GET"===c;return{debounceEnabled:void 0===r.debounce?i:r.debounce,uniqueId:this.getUniqueIdForRequest(e,t,r),timeout:null!==(a=r.debounceTimeout)&&void 0!==a?a:this.defaultDebounceTimeout}}}else if("GET"===(null!==(u=null===(c=r.method)||void 0===c?void 0:c.toUpperCase())&&void 0!==u?u:"GET")&&!1!==r.debounce){const n=this.getEndpointConfiguration(e,r);return n?{debounceEnabled:n.debounce,uniqueId:this.getUniqueIdForRequest(e,t,r),timeout:null!==(d=null!==(l=n.debounceTimeout)&&void 0!==l?l:r.debounceTimeout)&&void 0!==d?d:this.defaultDebounceTimeout}:{debounceEnabled:!0,uniqueId:this.getUniqueIdForRequest(e,t,r),timeout:null!==(h=r.debounceTimeout)&&void 0!==h?h:this.defaultDebounceTimeout}}return{debounceEnabled:!1}}getEndpointConfiguration(e,t){var r,n;return this.endpointConfigurations.get(`${e}|${t.apiVersion}|${t.routeTemplate}|${null!==(n=null===(r=t.method)||void 0===r?void 0:r.toUpperCase())&&void 0!==n?n:"GET"}`)}getUniqueIdForRequest(e,t,r){var n,i;if(this.postRequestsEnabled){const i=`${null!==(n=r.method)&&void 0!==n?n:"GET"}`;let s=`${e}|${r.apiVersion}|${t}|${i}`;return"POST"===i&&!r.isRawData&&r.body&&(s+=`|${JSON.stringify(r.body)}`),s}return`${e}|${r.apiVersion}|${t}|${null!==(i=r.method)&&void 0!==i?i:"GET"}}`}}m.Services.add("IRestClientDebounceService",{serviceFactory:r,options:4})}("RestClientBase"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async queryContributedHierarchy(e,t,r){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/Contribution/HierarchyQuery/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:r},body:e})}}t[e].WebContributionsClientName="IWebContributionsRestClient",t[e].getWebContributionsClient=function(r,n){return r.getRestClient(t[e].WebContributionsClientName,n)},m.RestClients.add(t[e].WebContributionsClientName,{factory:r})}("RestClientWebContributions"),function(e){function r(e,t,...r){const s=Array.isArray(t),o=1===e.arrayOptions,a=!1!==e.deepClone;for(const e of r)s&&Array.isArray(e)?(o||(t.length=0),t.push.apply(t,a?n(e):e)):i(t,e,a,o);return t}function n(e){const t=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];"object"!=typeof s||null===s||s instanceof Date?t[r]=s:Array.isArray(s)?t[r]=n(s):t[r]=i({},s,!0,!1)}return t}function i(e,t,r,s){for(const o in t){const a=t[o],c=e[o];if("object"!=typeof c||null===c||c instanceof Date)!r||"object"!=typeof a||null===a||a instanceof Date?e[o]=a:Array.isArray(a)?e[o]=n(a):e[o]=i({},a,r,s);else{const t=Array.isArray(c);if(t&&Array.isArray(a))if(s){let t=a;r&&(t=n(a)),e[o]=[...c,...a]}else e[o]=r?n(a):a;else if("object"!=typeof a||null===a||a instanceof Date)e[o]=a;else{const n=t?[...c]:Object.assign({},c);e[o]=i(n,a,r,s)}}}return e}b=t[e]={},t[e].deepMerge=function(e,...t){return r({deepClone:!0,arrayOptions:0},e,...t)},t[e].deepMergeWithOptions=r}("UtilObject"),function(e){t[e]={};class r extends m.VssObservableService{constructor(){super(...arguments),this.dataProviderExceptions={},this.clientProviders={},this.dataProviders={},this.sharedData={},this.pendingContributions={},this.loadedContentContributions={},this.onContributionLoaded=e=>{this.loadedContentContributions[e.contributionId]=e}}_serviceStart(e){super._serviceStart(e),this.contentService=this.pageContext.getService("IVssContentService"),this.contentService.subscribe(this.onContributionLoaded,"contributionComplete");const t=(0,p.readJsonScript)("dataProviders",!0);t?(this._applyData(t.data,t.sharedData,t.exceptions,t.clientProviders,void 0),this.dataProviderScope||(this.dataProviderScope={name:t.scopeName,value:t.scopeValue})):console.warn("No data providers found"),this.contributionPageData=this.getData("ms.vss-web.page-data")}_serviceEnd(e){super._serviceEnd(e),this.contentService.unsubscribe(this.onContributionLoaded,"contributionComplete")}async executeCommand(e,...t){const r=await this.getContributionAsync(e);return r?this.executeCommandEx(e,r,t):Promise.resolve(null)}async executeCommandEx(e,t,...r){let n=null;if(t){const i=await this.getServiceEx(e,t);if(i){const e=i[t.methodName];e&&(n=e.apply(i,t.methodArguments||r))}}return n}getContribution(e){let t;const r=this.getContributionData();return r&&r.contributions&&(t=r.contributions[e]),t}async getContributionAsync(e,t,r,n){return(await this.getContributionsAsync([e],t,r,n))[0]}async getContributionsAsync(e,t,r,n){return this.getContributionsAsyncInternal(e,t,r)}getContributionChildren(e,t){let r=[];const n=this.getContributionData();if(n&&n.relationships){let i={};if(n.relationships[e]){const t=n.relationships[e];t.children&&(i=t.children)}for(const t in n.relationships){const r=n.relationships[t];r&&r.parents&&r.parents[e]&&(i[t]=!0)}if(t){const e=this.getContributionIdsByType(t);if(!e||0===e.length)return r;for(const t of e)i[t]&&r.push(t)}else r=Object.keys(i)}return r}getContributionIdsByType(e){let t=[];const r=this.getContributionData();if(r&&r.types&&r.types[e]){const n=r.types[e];n&&(t=Object.keys(n))}return t}getContributionsByType(e){const t=this.getContributionIdsByType(e),r={},n=this.getContributionData();if(n)for(const e of t)r[e]=n.contributions[e];return r}getContributionProvider(e){let t;const r=this.getContributionData();if(r&&r.providers){const n=e.split("."),i=n[0]+"."+n[1];t=r.providers[i],t&&(t.id=i)}return t}getData(e,t){let r;const n=this._getParametersKey(t),i=this.dataProviders[e];return i&&(r=i[n]),r}async getDataAsync(e,t,r,n,i){let s=r?void 0:this.getData(e,t);if(!s){let r;for(const t in this.clientProviders)if(-1!==this.clientProviders[t].contributionIds.indexOf(e)){const e=this.clientProviders[t];n=n||e.queryServiceInstanceType,r=e.context.properties;break}const o=Object.assign(Object.assign({},r),t);await this.getContributionsAsyncInternal([e],o,!0,n,i),s=this.getData(e,o)}return Promise.resolve(s)}getSharedData(e){return this.sharedData[e]}getServiceSync(e,t){const r=this.getContribution(e);if(r)return r.dependencies&&r.dependencies.forEach((e=>{this.getContribution(e)||this.isContentContributionLoaded(e)})),this.pageContext.getService(r.serviceName,t,!0)}async getService(e,t){const r=await this.getContributionAsync(e);return r?this.getServiceEx(e,r,t):Promise.reject(void 0)}async getServiceEx(e,t,r){let n;n=t.dependencies&&t.dependencies.length?this.getContributionsAsync(t.dependencies):Promise.resolve(),await n;const i=this.pageContext.getService(t.serviceName,r,!0);if(i)return i;await this.getContributionAsync("ms.vss-web.remote-service-providers");const s=await this.getChildServices("ms.vss-web.remote-service-providers","ms.vss-web.service");return s.length?s[0].service.getService(e,t):void 0}getChildServices(e,t){const r=this.getChildServicesEx(e,t);return Promise.all(r.map((e=>e.service))).then((e=>{const t=[];for(let n=0,i=r.length;n<i;n++)e[n]&&t.push({id:r[n].id,service:e[n]});return t}))}getChildServicesEx(e,t){const r=[],n=this.getContributionChildren(e,t);for(const e of n)r.push({id:e,service:this.getService(e)});return r}getDataProviderExceptions(){return this.dataProviderExceptions}isContributionResolved(e){let t=!1;if(this.contributionPageData){const r=this.getContributionData();if(r&&r.contributions){const n=this._getParametersKey();this.pendingContributions[e+"/"+n]||(t=r.contributions.hasOwnProperty(e)||this.isContentContributionLoaded(e)||void 0!==this.getData(e))}}return t}isContributionTrusted(e){let t=!1;const r=this.getContribution(e);if(r){64&r["::Attributes"]&&(t=!0)}return t}isContentContributionLoaded(e){const t=this.loadedContentContributions[e];return!!t&&t.resolved}getContributionData(){return this.getSharedData("_contributions")}async getContributionsAsyncInternal(e,t,r,n,i){let s=this.getContributionData(),o=s&&s.contributions||{};const a=this._getParametersKey(t);if(this.contributionPageData){const c=new Set,u=[];for(const n of e){const e=this.pendingContributions[n+"/"+a];e?u.push(e):(r||!o.hasOwnProperty(n)&&!this.isContentContributionLoaded(n)&&void 0===this.getData(n,t))&&c.add(n)}if(c.size>0){const e=this.fetchContributionsAsync(Array.from(c),t,n,i);u.push(e);for(const t of c)this.pendingContributions[t+"/"+a]=e}if(u.length){const e=await Promise.allSettled(u);let t,r=!1;for(let n=0;n<e.length;n++){const i=e[n];if("rejected"===i.status){r=!0,t=i.reason;for(const[e,t]of Object.entries(this.pendingContributions))t===u[n]&&delete this.pendingContributions[e]}}if(r)throw t}s=this.getContributionData(),o=s&&s.contributions||{};for(const e of c)delete this.pendingContributions[e+"/"+a],s&&!s.contributions.hasOwnProperty(e)&&(s.contributions[e]=void 0)}const c=[];for(const t of e){const e=o[t];c.push(e)}return c}async fetchContributionsAsync(e,t,r,n){const i=Object.assign({},t);this._notify({contributionIds:e,properties:i},"dpqStarting");const s=this.pageContext.getRestClient("IWebContributionsRestClient",Object.assign({serviceInstanceType:r},n)),o=await s.queryContributedHierarchy({contributionIds:e,dataProviderContext:{properties:i}},this.dataProviderScope.name,this.dataProviderScope.value);this._applyData(o.dataProviders,o.dataProviderSharedData,o.dataProviderExceptions,void 0,t),o.content&&await this.contentService.loadScripts(o.content),this._notify({dataProviders:o.dataProviders,dataProviderSharedData:o.dataProviderSharedData,dataProviderExceptions:o.dataProviderExceptions},"dpqCompleted")}_applyData(e,t,r,n,i){if(e){const t=this._getParametersKey(i);for(const r in e){let n=this.dataProviders[r];n||(this.dataProviders[r]=n={}),n[t]=e[r]}}if(t)for(const e in t){let r=t[e];const n=this.sharedData[e];n&&(r=(0,b.deepMergeWithOptions)({deepClone:!1},n,r)),this.sharedData[e]=r}if(n)for(const e in n)this.clientProviders[e]=n[e];if(r)for(const e in r){const t=r[e];this.dataProviderExceptions[e]=t,console.warn(`ContributionData unavailable for '${e}', ExceptionType: '${t.exceptionType}', Reason: ${t.message}, StackTrace: ${t.stackTrace}`)}}_getParametersKey(e){return e?JSON.stringify(e):"{}"}}t[e].VssContributionService=r,m.Services.add("IVssContributionService",{serviceFactory:r});class n extends m.VssObservableService{constructor(){super(...arguments),this._lastSubscriptions={},this.onContributionDataLoaded=()=>{this._lastSubscriptions=this.loadContributedSubscriptions(this._lastSubscriptions)}}_serviceStart(e){super._serviceStart(e),this._contributionService=this.pageContext.getService("IVssContributionService"),this._contributionService.subscribe(this.onContributionDataLoaded,"dpqCompleted"),this._lastSubscriptions=this.loadContributedSubscriptions({})}_serviceEnd(e){super._serviceEnd(e),this._contributionService.unsubscribe(this.onContributionDataLoaded,"dpqCompleted")}fireEvent(e,t,r){const n={name:e,data:t};this._notify(n,e,r)}loadContributedSubscriptions(e){const t=this.pageContext.getService("IVssContributionService"),r=this._contributionService.getContributionsByType("ms.vss-web.event-subscription");for(const n in r)if(!e[n]){const e=r[n];this.subscribe((r=>{e.command?t.executeCommandEx(n,e.command,r):e.commandId&&t.executeCommand(e.commandId,r)}),e.eventName)}return r}}t[e].VssContributedEventService=n,m.Services.add("IVssContributionEventService",{serviceFactory:n})}("Contribution"),function(e){y=t[e]={};class r extends m.VssService{_serviceStart(e){super._serviceStart(e);const t=this.pageContext.getService("IVssContributionService"),r=null==t?void 0:t.getContributionChildren("ms.vss-web.token-provider-service-root");r&&r.length>0&&(this._implementationService=t.getServiceSync(r[0])),this._implementationService||setTimeout((()=>document.dispatchEvent(new CustomEvent("authenticationInitialized",{}))))}getDefaultProvider(){if(this._implementationService)return this._implementationService.getDefaultProvider()}getPopupProvider(){if(this._implementationService)return this._implementationService.getPopupProvider()}getRedirectProvider(e){if(this._implementationService)return this._implementationService.getRedirectProvider(e)}getSilentProvider(){if(this._implementationService)return this._implementationService.getSilentProvider()}clearCache(){return this._implementationService?this._implementationService.clearCache():Promise.resolve()}logout(){return this._implementationService?this._implementationService.logout():Promise.resolve()}}m.Services.add("ITokenProviderService",{serviceFactory:r,options:6}),t[e].executeWithSilentAuth=function(e,t){const r=e.getService("ITokenProviderService"),n=r.getSilentProvider();n?n.getAuthorizationHeader().then((e=>{if(e){t({getAuthorizationHeader:t=>t?r.clearCache().then((()=>"")).catch((e=>(console.log(e),""))):Promise.resolve(e),providerName:"SilentTokenProvider"})}})).catch((e=>{console.log(e)})):t()}}("TokenProvider"),function(e){C=t[e]={},Object.defineProperty(t[e],"bypassAuthProviderCookieName",{enumerable:!0,get:function(){return v.bypassAuthProviderCookieName}}),Object.defineProperty(t[e],"requestListeners",{enumerable:!0,get:function(){return v.requestListeners}}),t[e].issueRequest=async function(e,t,r){var n;if(!r&&!(0,f.isExternalUrl)(e)){const e=null===(n=(0,m.getService)("ITokenProviderService"))||void 0===n?void 0:n.getDefaultProvider();e&&(r={authTokenProvider:e})}return(0,v._issueRequest)(e,t,r)}}("Fetch"),function(e){t.Page={};class r extends m.VssService{getData(){return this.pageContext.getService("IVssContributionService").getData("ms.vss-web.page-data")}}m.Services.add("IVssPageService",{serviceFactory:r})}(),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async publishEvents(e){return this.beginRequest({apiVersion:"3.2-preview.1",method:"POST",routeTemplate:"_apis/customerintelligence/Events",body:e})}}t[e].CustomerIntelligenceClientName="ICustomerIntelligenceRestClient",t[e].getCustomerIntelligenceClient=function(r,n){return r.getRestClient(t[e].CustomerIntelligenceClientName,n)},m.RestClients.add(t[e].CustomerIntelligenceClientName,{factory:r})}("RestClientCustomerIntelligence"),function(e){function r(e,t){return e===t?0:e>t?1:-1}P=t[e]={},t[e].groupBy=function(e,t){const r={};for(const n of e){const e=t(n)||"",i=r[e];i?i.push(n):r[e]=[n]}return r},t[e].toLookup=function(e,t,r){const n={};for(const i of e){n[t(i)]=r?r(i):i}return n},t[e].stableSort=function(e,t){const r=new Array(e.length);return function e(n,i,s){const o=s-i;if(o<2)return;const a=i+Math.floor(o/2);e(n,i,a),e(n,a,s),function(e,n,i,s){let o=n,a=i,c=0;for(;o<i&&a<s;)t(e[o],e[a])<=0?(r[c]=e[o],o++):(r[c]=e[a],a++),c++;for(;o<i;)r[c]=e[o],c++,o++;for(;a<s;)r[c]=e[a],c++,a++;for(o=0;o<s-n;o++)e[o+n]=r[o]}(n,i,a,s)}(e,0,e.length),e},t[e].uniqueSort=function(e,t=r){e.sort(t);for(let r=1,n=e.length;r<n;r++)0===t(e[r],e[r-1])&&(e.splice(r--,1),n--);return e},t[e].defaultComparer=r,t[e].mapAsyncSerial=async function(e,t){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=await t(e[n],n,e);return r}}("UtilArray"),function(e){function r(e,t=null){let r=null;try{r=localStorage.getItem(e)}catch(e){}return null===r?t:r}function n(e,t){try{return null==t?localStorage.removeItem(e):localStorage.setItem(e,t),!0}catch(e){return!1}}function i(e,t=null){let r=null;try{r=sessionStorage.getItem(e)}catch(e){}return null===r?t:r}function s(e,t){try{return null==t?sessionStorage.removeItem(e):sessionStorage.setItem(e,t),!0}catch(e){return!1}}T=t[e]={},t[e].tryGetLocalStorageValue=r,t[e].tryGetLocalStorageObject=function(e,t){const n=r(e);if(!n)return t;try{return JSON.parse(n)}catch(e){return t}},t[e].trySetLocalStorageValue=n,t[e].trySetLocalStorageObject=function(e,t){return n(e,t?JSON.stringify(t):void 0)},t[e].tryGetSessionStorageValue=i,t[e].tryGetSessionStorageObject=function(e,t){const r=i(e);if(!r)return t;try{return JSON.parse(r)}catch(e){return t}},t[e].trySetSessionStorageValue=s,t[e].trySetSessionStorageObject=function(e,t){return s(e,t?JSON.stringify(t):void 0)}}("UtilStorage"),function(e){E=t[e]={};class r extends m.VssObservableService{constructor(){super(...arguments),this.events=[],this._onWindowUnload=()=>{this.unloading=!0,this.events.length&&(this._writeEventsToLocalStorage(...this.events),this.events=[])}}_serviceStart(e){super._serviceStart(e),this._initializeService(),this.publishInterval=window.setInterval(this._sendEvents.bind(this),1e3),window.addEventListener("unload",this._onWindowUnload)}_serviceRestart(e){super._serviceRestart(e),this._sendEvents(),this._initializeService()}_serviceEnd(e){this.publishInterval&&(window.clearInterval(this.publishInterval),this.publishInterval=0),window.removeEventListener("unload",this._onWindowUnload),super._serviceEnd(e)}publishEvent(e,t,r,n){const i=Object.assign({},r);this.sessionId&&(i.SessionId=this.sessionId),i.EventTimestamp=(new Date).getTime(),e||(console.warn(`Publishing telemetry event with unknown area. Feature: ${t}. Properties: ${JSON.stringify(i)}`),e="Unknown"),t||(console.warn(`Publishing telemetry event with unknown feature. Area: ${e}. Properties: ${JSON.stringify(i)}`),t="Unknown");const s={area:e,feature:t,properties:i,serviceInstanceType:n};this._notify(s,"publish"),this.unloading?this._writeEventsToLocalStorage(s):this.events.push(s)}_initializeService(){const e=this.pageContext.getService("IVssPageService").getData();e&&(this.sessionId=e.sessionId,this.hostId=e.hostId)}_sendEvents(){0!==this.events.length&&(0,y.executeWithSilentAuth)(this.pageContext,(e=>this._sendEventsImpl(e)))}_sendEventsImpl(e){const t=(0,P.groupBy)(this.events,(e=>e.serviceInstanceType));this.events=[],Object.keys(t).forEach((r=>{try{const n={serviceInstanceType:r||void 0};e&&(n.authTokenProvider=e);const i=this.pageContext.getRestClient("ICustomerIntelligenceRestClient",n);t[r].forEach((e=>{delete e.serviceInstanceType})),i.publishEvents(t[r]).catch((e=>console.log(e)))}catch(e){console.error(e)}}))}_readEventsFromLocalStorage(){let e;const t=`ciEvents/${this.hostId}`;return e=(0,T.tryGetLocalStorageObject)(t),e&&(0,T.trySetLocalStorageObject)(t,void 0),e}_writeEventsToLocalStorage(...e){let t=e;const r=this._readEventsFromLocalStorage();r&&(t=[...r,...t]),(0,T.trySetLocalStorageObject)(`ciEvents/${this.hostId}`,t)}}m.Services.add("IVssTelemetryService",{serviceFactory:r,options:2}),t[e].publishEvent=function(e,t,r,n,i){e.getService("IVssTelemetryService").publishEvent(t,r,n,i)}}("Telemetry"),function(e){I=t[e]={};const r="user-custom-theme";class n extends m.VssObservableService{constructor(){super(...arguments),this.themeElementsBySelector={}}_serviceStart(e){super._serviceStart(e),this.createThemedSelector(":root",(e=>e)),this._initializeTheme()}_serviceRestart(e){super._serviceRestart(e),this._initializeTheme()}_serviceEnd(e){super._serviceEnd(e)}getThemeValue(e){return(0,i.expandThemeableProperties)(`var(--${e})`,this.currentTheme.data)}getCurrentTheme(){return this.currentTheme}getTheme(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_themes");return t&&t[e]}applyTheme(e){this.currentTheme=e,this._notify(e,"themeChanged")}saveCustomUserTheme(e){(0,T.trySetLocalStorageObject)(r,e)}createThemedSelector(e,t){const r="function"==typeof t?t:void 0;let n=this.themeElementsBySelector[e];if(n||(n=document.createElement("style"),n.type="text/css",document.head.appendChild(n),this.themeElementsBySelector[e]=n,r&&this.subscribe((t=>{const i=r(t),s=`${e} { ${this.getCSSVariablesContent(i&&i.data)} }`;n.innerText=s}),"themeChanged")),this.currentTheme){const i=r?r(this.currentTheme):t,s=`${e} { ${this.getCSSVariablesContent(i&&i.data)} }`;n.innerText=s}}getCSSVariablesContent(e){const t=[];if(e)for(const r in e)t.push(`--${r}: ${e[r]}`);return t.join("; ")}_initializeTheme(){let e;if(e=(0,T.tryGetLocalStorageObject)(r),!e){const t=this.pageContext.getService("IVssContributionService").getData("ms.vss-web.theme-data");t&&t.requestedThemeId&&(e=this.getTheme(t.requestedThemeId))}this.currentTheme=e||{id:"empty-theme",name:"",data:{}},(null==e?void 0:e.id)&&document.body.classList.add(e.id.replace(/\./g,"-")),this.applyTheme(this.currentTheme)}}t[e].getCurrentTheme=function(e){return e.getService("IVssThemeService").getCurrentTheme()},m.Services.add("IVssThemeService",{serviceFactory:n,options:6})}("Theming"),function(e){t[e]={};const r=Math.random()<.02,i=new RegExp("//(.*?)/");function s(e){if(!e)return;const t=i.exec(e);return t?t[1]:void 0}class o{constructor(e,t,r,n,i,s,o){this.elaspsedTicks=0,this.endTime=-1,this.featureArea="",this.splitTimings=[],this.scenarioName=e,this.isPageInteractive=r,this.isPageNavigate=n,this.startTime=i,this.properties=Object.assign({},s),this.sessionId=t,this.onScenarioComplete=o,n||c.mark(l(e,u.Start))}complete(e){!this.isPageNavigate||e||document.hidden?this.completeNow(e):(this.splitTimings.push({name:"ScenarioEnd.PendingPaint",timestamp:Date.now()-this.startTime}),window.requestAnimationFrame((()=>{this.completeNow()})))}addProperties(e){this.properties=Object.assign(Object.assign({},this.properties),e)}completeNow(e){if(this.endTime=e||Date.now(),this.elaspsedTicks=this.endTime-this.startTime,this.onScenarioComplete(this),!e||this.isPageNavigate){const e=l(this.scenarioName,u.End);c.mark(e);const t=this.isPageNavigate?"navigationStart":l(this.scenarioName,u.Start);c.measure(this.scenarioName,t,e)}}}class a extends m.VssObservableService{constructor(){super(...arguments),this.activeScenarios={},this.completedScenarios=[],this.pageNavigateScenario=!0,this.pageNavigateSplitTimings=[],this._completedContentCache=[],this.handleScenarioComplete=e=>{e===this.activeScenarios[e.scenarioName]&&delete this.activeScenarios[e.scenarioName],this.completedScenarios.push(e),(e.isPageNavigate||e.isPageInteractive)&&this.pageNavigateSplitTimings.length&&(e.splitTimings.push(...this.pageNavigateSplitTimings),e.splitTimings.sort(((e,t)=>e.timestamp-t.timestamp))),e.isPageInteractive&&(this.performanceData.timeToInteractive=e.endTime-e.startTime,this.performanceData.backgroundTab=document.hidden,this.setNewSessionId());const t=this.getScenarioTelemetry(e,e.properties.serviceInstanceType);if(t.properties.LWLS=!0,e.isPageInteractive&&(t.properties.isTTI=!0,t.properties.theme=(0,I.getCurrentTheme)(this.pageContext).id),(0,E.publishEvent)(this.pageContext,t.area,t.feature,t.properties,t.serviceInstanceType),e.isPageInteractive){const e=this._shouldCollectResourceTimings(),r=this.getTimingTelemetry(e);r&&(0,E.publishEvent)(this.pageContext,r.area,r.feature,r.properties,t.serviceInstanceType),this._completedContentCache=[]}if(this._notify(e,"scenarioComplete"),e.isPageInteractive){const t=this.pageContext.getService("IVssContributionEventService");setTimeout((()=>{(0,g.getCookie)("TFS-BREAK-TTI");t.fireEvent("page-interactive",e,!0)}),0)}},this._afterRequest=(e,t)=>{if(this.performanceData.contentData.ajaxCount++,e.response&&e.response.ok){const t=e.response.headers.get("content-length");t&&(this.performanceData.contentData.ajaxSize+=parseInt(t))}},this._contentComplete=(e,t)=>{"text/css"===e.contentAttributes.contentType?(this.performanceData.contentData.cssCount++,this.performanceData.contentData.cssSize+=e.contentAttributes.contentLength):"text/javascript"===e.contentAttributes.contentType&&(this.performanceData.contentData.scriptsCount++,this.performanceData.contentData.scriptSize+=e.contentAttributes.contentLength),"contentComplete"!==t||this.performanceData.timeToInteractive||this._completedContentCache.push(e)},this._legacyContentComplete=e=>{e&&e.detail&&e.detail.size&&(e.detail.isCss?(this.performanceData.contentData.cssCount++,this.performanceData.contentData.cssSize+=e.detail.size):(this.performanceData.contentData.scriptsCount++,this.performanceData.contentData.scriptSize+=e.detail.size))},this.fpsLoading=e=>{this.pageNavigateScenario=!1,this.navigationStartTime=e.detail.startTime,window.lwpLastNavigationStartTime=this.navigationStartTime,document.body.dispatchEvent(new CustomEvent("lwpPerfNavigationReset",{cancelable:!1,detail:{}})),this.activeScenarios={},this.completedScenarios=[],this.pageNavigateSplitTimings=[]},this.legacyScenarioStarted=e=>{const t=e.detail.descriptor;t&&this._startScenario(t.getName(),t.isPageInteractive(),this.pageNavigateScenario,t.getStartTime())},this.legacyScenarioCompleted=e=>{const t=e.detail.scenarioDetail;if(t){const e=t.scenario,r=t.telemetryData;e.isPageInteractive()?this.markTimeToInteractive(e.getFeatureArea(),e.getName(),void 0,e.getData(),e.getSplitTimings(),r):this.endScenario(e.getFeatureArea(),e.getName(),!1,e.getEndTime(),e.getData(),e.getSplitTimings(),r)}}}_serviceStart(e){super._serviceStart(e),this.resetPerformanceData(!0),this.navigationStartTime=window.performance.timing.navigationStart;const t=this.pageContext.getService("IVssContentService");t.subscribe(this._contentComplete,"contentComplete"),t.subscribe(this._contentComplete,"contentLoadError"),C.requestListeners.subscribe(this._afterRequest,"afterRequest"),document.addEventListener("scenarioStarted",this.legacyScenarioStarted),document.addEventListener("scenarioCompleted",this.legacyScenarioCompleted),document.addEventListener("legacyContentElementLoaded",this._legacyContentComplete),this.initializeService(),document.body.addEventListener("fpsLoading",this.fpsLoading)}_serviceRestart(e){super._serviceRestart(e),this.resetPerformanceData(!1),this.initializeService()}isFastPageSwitchScenario(){return!this.pageNavigateScenario}addSplitTiming(e,t){if(t){const r=this.activeScenarios[t];r&&r.splitTimings.push({name:e,timestamp:Date.now()-r.startTime})}else this.pageNavigateSplitTimings.push({name:e,timestamp:Date.now()-this.navigationStartTime})}getCompletedScenarios(){return this.completedScenarios}getActiveScenario(e){return this.activeScenarios[e]}getServerStatistics(){return this.serverStatistics}getPerformanceInsights(){return this.performanceInsights}getEntriesByName(e){return c.getEntriesByName(e)}getTimingByName(e){return c.getTimingByName(e)}getPerformanceData(){return this.performanceData}endScenario(e,t,r,n,i,s,o){let a=this.activeScenarios[t];return a?(r&&(a.isPageInteractive=!0),i&&a.addProperties(i)):a=this.startScenarioFromNavigation(t,r,i),e&&(a.featureArea=e),s&&a.splitTimings.push(...s),o&&(o.properties&&a.addProperties(o.properties),o.serviceInstanceType&&(a.properties.serviceInstanceType=o.serviceInstanceType)),a.complete(n),a}markTimeToInteractive(e,t,r,n,i,s){return this.endScenario(e,t,!0,r,n,i,s)}startScenario(e,t,r,n){return this._startScenario(e,t,!1,r||Date.now(),n)}startScenarioFromNavigation(e,t,r){return this._startScenario(e,t,this.pageNavigateScenario,this.navigationStartTime,r)}getDefaultNavigationEvents(e){const t=[];try{const e=[{name:"PLT",startEvent:"navigationStart",endEvent:"loadEventEnd",isAggregate:!0},{name:"Redirect",startEvent:"redirectStart",endEvent:"redirectEnd"},{name:"Unload",startEvent:"unloadEventStart",endEvent:"unloadEventEnd"},{name:"Fetch",startEvent:"fetchStart",endEvent:"domainLookupStart"},{name:"DNS",startEvent:"domainLookupStart",endEvent:"domainLookupEnd"},{name:"TCP",startEvent:"connectStart",endEvent:"connectEnd"},{name:"SSL",startEvent:"secureConnectionStart",endEvent:"connectEnd"},{name:"Request",startEvent:"connectEnd",endEvent:"responseStart"},{name:"Server Time",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"Response",startEvent:"responseStart",endEvent:"responseEnd"},{name:"DOMInteractive",startEvent:"domInteractive",endEvent:"domComplete"},{name:"DOMProcessing",startEvent:"domLoading",endEvent:"domComplete"},{name:"onLoad",startEvent:"loadEventStart",endEvent:"loadEventEnd"},{name:"Network Time",startEvent:"domainLookupStart",endEvent:"connectEnd"},{name:"PreRequest",startEvent:"navigationStart",endEvent:"connectEnd",isAggregate:!0},{name:"RequestResponse",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0}];for(const r of e){let e=c.getEntriesByName(r.name);if(0===e.length){if(null==c.getTimingByName(r.startEvent)&&0===c.getEntriesByName(r.startEvent).length||null==c.getTimingByName(r.endEvent)&&0===c.getEntriesByName(r.endEvent).length)continue;c.measure(r.name,r.startEvent,r.endEvent),e=c.getEntriesByName(r.name)}const n=e.map((e=>({name:e.name,startTime:e.startTime,duration:e.duration})))[0];r.perfEntry=n,t.push(r)}}catch(e){0}if(e){let r=0;e.endTime&&(r=e.startTime-e.endTime);const n={name:"TTI",perfEntry:{name:"TTI",duration:r,startTime:0},startEvent:"navigationStart",endEvent:e.scenarioName,isAggregate:!0};n&&t.push(n)}return t}getResourceTimingEntries(){return c.getEntriesByType("resource")||[]}getTimingTelemetry(e){const t=this._getContentTelemetryProperties(e);if(!t)return null;const r={area:"Performance",feature:"ResourceTiming",properties:t};if(r.properties.individualTimings){let e=JSON.stringify(r,null,2);const t=3e4,n=450;for(;e.length>t;){const i=e.length-t,s=Math.ceil(i/n),o=Object.keys(r.properties.individualTimings);if(o.length<=10)return null;const a=o.slice(Math.max(20,o.length-s));for(const e of a)delete r.properties.individualTimings[e];e=JSON.stringify(r,null,2)}}return r}getScenarioTelemetry(e,t){let r={activityId:e.sessionId,backgroundTab:document.hidden,debugMode:this.isDebugMode,elapsedTime:e.endTime-e.startTime,featureArea:e.featureArea||"",name:e.scenarioName,pageId:this.pageId,pageNavigateScenario:e.isPageNavigate,serviceVersion:this.serviceVersion,splitTimings:e.splitTimings,startTime:e.startTime,timeZoneOffset:(new Date).getTimezoneOffset()};if(r=Object.assign(Object.assign({},e.properties),r),e.isPageInteractive)try{const e=this._getPageInteractiveTelemetryProperties(r.pageNavigateScenario);Object.assign(r,e)}catch(e){}return{area:"Performance",feature:"Scenario",elapsedTime:e.endTime-e.startTime,properties:r,serviceInstanceType:t}}getNavigationStartTime(){return this.navigationStartTime}_startScenario(e,t,r,n,i){const s=new o(e,this.sessionId,t,r,n,i,this.handleScenarioComplete);return this.activeScenarios[e]=s,s}initializeService(){const e=this.pageContext.getService("IVssPageService").getData();e&&(this.isDebugMode=e.isDebugMode,this.sessionId=e.sessionId,this.pageId=e.sessionId,this.serviceVersion=e.serviceVersion);const t=(0,p.readJsonScript)("serverStatistics",!0);if(this.serverStatistics=t?t.serverTimings:null,this.performanceInsights=t?t.insights:void 0,this.serverStatistics)for(const e in this.serverStatistics){const t=this.serverStatistics[e];switch(e){case"AAD":case"ServiceBus":this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"BlobStorage":case"TableStorage":this.performanceData.serverPerformanceData.storage+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"Redis":this.performanceData.serverPerformanceData.redis+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"SQL":this.performanceData.serverPerformanceData.sql+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count;break;case"VssClient":this.performanceData.serverPerformanceData.rest+=t.count,this.performanceData.serverPerformanceData.totalRemote+=t.count}}}setNewSessionId(){this.sessionId=(0,n.newGuid)()}_getPageInteractiveTelemetryProperties(e){const t={},r={resourceCount:this.performanceData.contentData.cssCount+this.performanceData.contentData.scriptsCount,scriptResourceCount:this.performanceData.contentData.scriptsCount,cssResourceCount:this.performanceData.contentData.cssCount,ajaxRequests:this.performanceData.contentData.ajaxCount,scriptSize:this.performanceData.contentData.scriptSize,cssSize:this.performanceData.contentData.cssSize};if(e){const e=this.getDefaultNavigationEvents();for(let r=0;r<e.length;r++){const n=e[r].perfEntry;n&&(t[n.name]={start:n.startTime,duration:n.duration})}r.navigation=t;const n=window.resourceLoadStrategy;n&&(r.resourceLoadStrategy=n)}try{r.screen={h:window.screen.height,w:window.screen.width,winH:window.innerHeight,winW:window.innerWidth,winOH:window.outerHeight,winOW:window.outerWidth};const e=window.navigator;e&&e.connection&&(r.connection={rtt:e.connection.rtt,type:e.connection.effectiveType,downlink:e.connection.downlink})}catch(e){}return r}resetPerformanceData(e){this.performanceData={timeToInteractive:0,backgroundTab:!1,contentData:{ajaxCount:0,ajaxSize:0,cssCount:0,cssSize:0,other:"",scriptsCount:0,scriptSize:0},serverPerformanceData:{redis:0,rest:0,sql:0,storage:0,totalRemote:0},initialPageLoad:e}}_shouldCollectResourceTimings(){const e=this.pageContext.getService("IVssPageService").getData(),t=window.location.href.indexOf("collectResourceTimings=true")>=0||document.cookie.indexOf("TFS-COLLECT-TIMING=true")>=0,n=this.performanceData.timeToInteractive>8e3;if(e){if(e.isBundlingEnabled&&!e.isDebugMode&&e.isCdnEnabled){if(r)return 1;if(n)return 2}if(t)return 3}return 0}_getContentTelemetryProperties(e){const t={cdnResourceCount:0,diskcachedResourceCount:0,memcachedResourceCount:0,resourceCount:0,skippedResources:0,totalDuration:0,totalTransferSize:0},r={aggregate:t,reason:e};if(0!==e&&(r.individualTimings={}),0===this._completedContentCache.length)return null;try{const e={},n=this.getResourceTimingEntries();for(const t of n)e[t.name]=t;for(const n of this._completedContentCache){if(!n.contentAttributes.clientId)continue;const i=n.contentElement instanceof HTMLLinkElement?n.contentElement.href:n.contentElement.src,o=e[i],a=s(i);let c,u,l;if(o&&(l=o.transferSize,u=Math.round(o.duration),c=this._extrapolateResourceLoadSource(o),a&&(t.resourceCount++,t.totalTransferSize+=l,t.cdnResourceCount+=a.indexOf("cdn")>=0?1:0,t.diskcachedResourceCount+=2===c?1:0,t.memcachedResourceCount+=1===c?1:0,t.totalDuration+=u,n.previousResourceLoadEnd?t.resourceStartTime=Math.min(t.resourceStartTime||n.previousResourceLoadEnd,n.previousResourceLoadEnd):n.loadStart&&(t.resourceStartTime=Math.min(t.resourceStartTime||n.loadStart,n.loadStart)),n.loadEnd&&(t.resourceEndTime=Math.max(t.resourceEndTime||n.loadEnd,n.loadEnd)))),r.individualTimings){const e={contentType:n.contentAttributes.contentType,contributionId:n.contentAttributes.contributionId,domain:a,loadStart:n.loadStart,loadEnd:n.loadEnd,previousResourceLoadEnd:n.previousResourceLoadEnd};o&&(Object.assign(e,{decodedBodySize:o.decodedBodySize,encodedBodySize:o.encodedBodySize,source:c,totalDuration:u,transferSize:l}),o.requestStart&&(e.requestStart=o.requestStart),o.responseStart&&(e.responseStart=o.responseStart),o.responseEnd&&(e.responseEnd=o.responseEnd)),r.individualTimings[n.contentAttributes.clientId]=e}}}catch(e){console.warn("Error while collecting telemetry data: "+e&&e.message||e.toString())}return r}_extrapolateResourceLoadSource(e){const t=e.responseStart-e.requestStart;return e.responseEnd-e.requestStart<10?1:t<60?2:3}}var c,u;function l(e,t){return`${e}-${t===u.Start?"start":"end"}`}m.Services.add("IVssPerformanceService",{serviceFactory:a,options:6}),function(e){function t(e){return function(e){const t=window.performance&&window.performance.timing&&window.performance.timing[e]||null;return null!=t}(e)||n(e).length>0}function r(e){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(e)||[]}function n(e){return window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName(e)||[]}e.mark=function(e){window.performance&&window.performance.mark&&window.performance.mark(e),console&&console.timeStamp&&console.timeStamp(e)},e.measure=function(e,r,n){if(window.performance&&window.performance.measure){if(!t(r)||!t(n))return;window.performance.measure(e,r,n)}},e.getEntriesByType=r,e.getEntriesByName=n,e.getMeasures=function(e){return r("measure")},e.getMarks=function(){return r("mark")},e.getTimingByName=function(e){return window.performance&&window.performance.timing&&window.performance.timing[e]||null}}(c=t[e].Timing||(t[e].Timing={})),function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(u||(u={}))}("Performance"),function(e){function n(...e){return e.filter((e=>e)).join(" ").trim()}w=t[e]={},a.PropTypes=o,a.createClass=s,t[e].css=n,t[e].Components=new r.ObservableObject,t[e].VssComponentContext=a.createContext({});class i extends a.Component{constructor(e,t){super(e,t),this.unmountCallbacks=[],t&&(this.context=t),this.componentId=++i.uniqueNumber,i.prototype.componentWillReceiveProps.__suppressDeprecationWarning=!0}static register(r,n){t[e].Components.add(r,n)}componentDidMount(){}componentDidUpdate(e,t,r){this._manageObservables(this.props)}componentWillReceiveProps(e){}componentWillUnmount(){if(this._manageObservables(),this.events&&(this.events.removeAllListeners(),delete this.events),this.timers&&(this.timers.clearAllTimers(),delete this.timers),this.promises)for(const e of this.promises)e.cancel();for(const e of this.unmountCallbacks)e.call(this)}addEventListener(e,t,r,n){this.events||(this.events=new u.EventManagement),this.events.addEventListener(e,t,r,n)}addUnmountCallback(e){this.unmountCallbacks.push(e)}removeEventListener(e,t,r,n){this.events&&this.events.removeEventListener(e,t,r,n)}clearInterval(e){this.timers&&this.timers.clearInterval(e)}clearTimeout(e){this.timers&&this.timers.clearTimeout(e)}setInterval(e,t,...r){return this.timers||(this.timers=new l.TimerManagement),this.timers.setInterval(e,t,...r)}setTimeout(e,t,...r){return this.timers||(this.timers=new l.TimerManagement),this.timers.setTimeout(e,t,...r)}trackPromise(e){this.promises||(this.promises=[]);const t=(0,d.makeCancelable)(e);return e.then((()=>{this.promises=this.promises.filter((e=>e!==t))}),(()=>{this.promises=this.promises.filter((e=>e!==t))})),this.promises.push(t),t}observe(e){this.observers={},this.observables||(this.observables={});for(const t of e)this.observers[t.propertyName]||(this.observers[t.propertyName]=[]),this.observers[t.propertyName].push(t);this._manageObservables(this.props)}_manageObservables(e){if(this.observables){for(const e in this.observables){for(const t of this.observables[e])t.observable.unsubscribe(t.observer,t.action);delete this.observables[e]}if(e&&this.observers)for(const t in this.observers){const r=e[t];if(r&&r.subscribe&&r.unsubscribe)for(const e of this.observers[t])r.subscribe(e.observer,e.action),this.observables[t]||(this.observables[t]=[]),this.observables[t].push({observable:r,observer:e.observer,action:e.action})}}}}t[e].VssComponent=i,i.uniqueNumber=0,i.defaultProps={},i.contextType=t[e].VssComponentContext;class h extends m.VssService{constructor(){super(...arguments),this.regionMapping={},this.compareDetails=(e,t)=>(e.componentProperties&&e.componentProperties.componentOrder||Number.MAX_VALUE)-(t.componentProperties&&t.componentProperties.componentOrder||Number.MAX_VALUE),this.onDataProviderQueryEnd=e=>{if(e.dataProviders){const t=e.dataProviders["ms.vss-web.component-data"];if(t)for(const e in t){const n=t[e],i=this.regionMapping[e];if(i)for(const e of i.value)n.some((t=>e.componentId===t.componentId))||n.push(e);else this.regionMapping[e]=new r.ObservableArray;this.regionMapping[e].splice(0,this.regionMapping[e].length,...n.sort(this.compareDetails))}}},this.onFpsLoading=e=>{this.callouts&&(this.callouts.forEach(((e,t)=>{e()})),this.callouts=void 0),document.body.removeEventListener("fpsLoading",this.onFpsLoading)}}_serviceStart(e){super._serviceStart(e),this.contributionService=this.pageContext.getService("IVssContributionService"),this.contributionService.subscribe(this.onDataProviderQueryEnd,"dpqCompleted");const t=this.contributionService.getData("ms.vss-web.component-data")||{};Object.keys(t).forEach((e=>{this.regionMapping[e]=new r.ObservableArray(t[e].sort(this.compareDetails))}))}_serviceEnd(e){this.contributionService.unsubscribe(this.onDataProviderQueryEnd,"dpqCompleted")}getComponentsForRegion(e){return this.regionMapping[e]||(this.regionMapping[e]=new r.ObservableArray),this.regionMapping[e]}renderCallout(e){const t=document.createElement("div");document.body.appendChild(t);const r=p++,n=()=>{this.callouts&&this.callouts.has(r)&&(c.unmountComponentAtNode(t),document.body.removeChild(t),this.callouts.delete(r))};void 0===this.callouts&&(this.callouts=new Map,document.body.addEventListener("fpsLoading",this.onFpsLoading)),this.callouts.set(r,n),c.render(a.createElement(v,{pageContext:this.pageContext},e(n)),t)}getFullScreenMode(){return this._fullScreenMode||(this._fullScreenMode=new r.ObservableValue(-1!==window.location.href.indexOf("fullScreen=true"))),this._fullScreenMode}setFullScreenMode(e){this._fullScreenMode?this._fullScreenMode.value=e:this._fullScreenMode=new r.ObservableValue(e),e?document.body&&document.body.classList.add("full-screen-mode"):document.body&&document.body.classList.remove("full-screen-mode")}toggleFullScreenMode(){this.setFullScreenMode(!this.getFullScreenMode().value)}}m.Services.add("IVssLayoutManager",{serviceFactory:h});let p=0;class g extends m.VssService{constructor(){super(...arguments),this.reactRootKey=0}_serviceStart(e){super._serviceStart(e),this.pageRegions=document.querySelectorAll("[data-componentregion]"),this.pageContext.platformInitialized.subscribe((e=>{e&&this.renderPage()}))}renderPage(){const e=this.pageContext.getService("IVssPerformanceService");e.addSplitTiming("VssPageRenderingService.renderPage.start");const t=this.pageContext.getService("IVssLayoutManager");t.setFullScreenMode(t.getFullScreenMode().value);let r=this.pageRegions.length;const n=()=>{if(0==--r){0;this.pageContext.getService("IVssContributionEventService").fireEvent("page-rendered",{},!0)}};for(let e=0;e<this.pageRegions.length;e++){const t=this.pageRegions[e].getAttribute("data-componentregion");t?c.render(a.createElement(v,{key:this.reactRootKey++,pageContext:this.pageContext},a.createElement(f,{componentRegion:t,className:"full-size"},null)),this.pageRegions[e],n):n()}e.addSplitTiming("VssPageRenderingService.renderPage.end")}}m.Services.add("VssPageRenderingService",{serviceFactory:g,options:6});class v extends i{render(){const r=a.createElement(t[e].VssComponentContext.Provider,{value:{pageContext:this.props.pageContext}},this.props.children);return r}}t[e].ReactRootComponent=v;class f extends i{render(){const e=this.context.pageContext.getService("IVssLayoutManager").getComponentsForRegion(this.props.componentRegion);return 0===e.length&&this.props.fallbackComponent?this.props.fallbackComponent():a.createElement("div",{className:n(this.props.className,"region-"+this.props.componentRegion),"data-renderedregion":this.props.componentRegion,id:this.props.id,role:this.props.role},e.value.map(((e,t)=>a.createElement(S,Object.assign(Object.assign(Object.assign({key:t},this.props.childComponentProperties),e.componentProperties),{wrappedType:e.componentType})))))}}function S(r){const n=b(),{trackPromise:i}=(0,d.usePromise)();let s;if(r.dependencies){const e=n.pageContext.getService("IVssContributionService"),t=r.dependencies.filter((t=>!e.isContributionResolved(t)));t.length&&(s=t)}const[o,c]=a.useState((()=>t[e].Components.get(r.wrappedType))),[u,l]=a.useState(!s&&!r.onDependenciesResolved),[h,p]=a.useState(!1);return a.useEffect((()=>{const e=async()=>{if(r.onDependenciesResolved){const e=r.onDependenciesResolved();if(e)try{await i(e)}catch(e){}}};if(s){const t=n.pageContext.getService("IVssContributionService");i(t.getContributionsAsync(r.dependencies||[])).then((async()=>{await e(),l(!0)})).catch((e=>{!e||e.canceled||e.isCanceled||console.error(e)}))}else r.onDependenciesResolved&&e().then((()=>{l(!0)}))}),[r.dependencies]),a.useEffect((()=>{const n=t[e].Components.get(r.wrappedType);if(!n){const n=i=>{i.key===r.wrappedType&&(t[e].Components.unsubscribe(n,"add"),c((()=>i.value)))};return t[e].Components.subscribe(n,"add"),()=>{t[e].Components.unsubscribe(n,"add")}}c((()=>n))}),[r.wrappedType]),a.useEffect((()=>{if(r.loadingComponent&&(!o||!u)){const e=setTimeout((()=>{p(!0)}),100);return()=>{clearTimeout(e)}}}),[r.loadingComponent]),o&&u&&a.createElement(o,Object.assign({ref:r.wrappedRef},r.wrappedProps||r),r.children)||h&&r.loadingComponent&&r.loadingComponent()||null}function b(){return a.useContext(t[e].VssComponentContext)}function y(){return b().pageContext}t[e].RegionComponent=f,t[e].Components.add("ms.vss-web.region",f),t[e].WrappedComponent=S,t[e].useComponentContext=b,t[e].usePageContext=y,t[e].useService=function(e){const t=y();return a.useMemo((()=>t.getService(e)),[t])},t[e].useIsMounted=function(){const e=a.useRef(!1);return a.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),a.useCallback((()=>e.current),[])}}("Layout"),function(e){_=t[e]={};class r extends m.VssService{static afterSetMetaViewport(e){const t=Date.now(),r=()=>{e!==window.innerWidth?window.requestAnimationFrame((()=>window.dispatchEvent(new Event("resize")))):t+1e3>Date.now()&&window.requestAnimationFrame(r)};r()}_serviceStart(e){super._serviceStart(e);const t=e.getService("IVssContributionService");if(this.navigationData=t.getData("ms.vss-web.navigation-data"),!this.navigationData)return;let n=this.navigationData.resolvedUrl;if(n){window.location.hash&&(n+=window.location.hash);try{window.history.replaceState(history.state,document.title,n)}catch(e){console.error(`Failed to update URL to '${n}: ${e.message}`)}}if(this.navigationData.navigation){if(this.navigationData.location)for(const e in this.navigationData.navigation){const t=this.navigationData.navigation[e];t.href=this.navigationData.location[t.id]}let e=!1;for(let t=this.navigationData.displayed.length-1;t>=0;t--)e=this.navigationData.navigation[this.navigationData.displayed[t]].supportsMobile||e;let t=document.querySelector("meta[name=viewport]");e&&!t&&(t=document.createElement("meta"),t.name="viewport",document.head.appendChild(t));const n=t&&t.content,i=e?"width=device-width, initial-scale=1.0":"";if(t&&n!==i){const e=window.innerWidth;t.content=i,r.afterSetMetaViewport(e)}if(this.navigationData.hierarchy){for(const e in this.navigationData.hierarchy){const t=this.navigationData.navigation[e],r=this.navigationData.hierarchy[e],n={},i=[];t.children=[];for(const e of r){const r=this.navigationData.navigation[e];2!=(2&(r.flags||0))&&(r.order=(r.order||0)+1e5),void 0!==r.flags&&32!=(32&r.flags)?(r.parentId=t.id,t.children.push(r)):r.href&&i.push(r)}t.children.sort(((e,t)=>{let r=e.order-t.order;return 0===r&&(r=e.id.toUpperCase().localeCompare(t.id.toUpperCase(),navigator.language)),r}));let s=1;for(const e of t.children){const t=e.navGroup||"";n[t]||(n[t]=s++)}if(t.children.sort(((e,t)=>{let r=n[e.navGroup||""]-n[t.navGroup||""];return 0===r&&(r=e.order-t.order,0===r&&(r=e.id.localeCompare(t.id,navigator.language))),r})),!t.href){for(const e of t.children)if(e.href){t.href=e.href;break}!t.href&&i.length>0&&(i.sort(((e,t)=>e.order-t.order)),t.href=i[0].href)}}if(this.matchedRoute={routeId:this.navigationData.routeId,parsedRoutes:[],routeTemplates:this.navigationData.routeTemplates,routeValues:this.navigationData.routeValues},this.navigationData.routeTemplates)for(const e of this.navigationData.routeTemplates)this.matchedRoute.parsedRoutes.push((0,f.parseRouteTemplate)(e))}}}getCurrentRoute(){return this.matchedRoute}getDisplayedNavigation(){return this.navigationData.displayed}getNavigation(e){return this.navigationData.navigation[e]}getRouteValues(){return this.navigationData.routeValues}isDisplayed(e){return-1!=this.navigationData.displayed.indexOf(e)}getPageTitle(){return this.navigationData.pageTitle}}m.Services.add("IVssNavigationService",{serviceFactory:r,options:4}),t[e].getCurrentRoute=function(e){return e.getService("IVssNavigationService").getCurrentRoute()},t[e].getDisplayedNavigation=function(e){return e.getService("IVssNavigationService").getDisplayedNavigation()},t[e].getNavigation=function(e,t){return e.getService("IVssNavigationService").getNavigation(t)},t[e].getRouteValues=function(e){return e.getService("IVssNavigationService").getRouteValues()},t[e].isDisplayed=function(e,t){return e.getService("IVssNavigationService").isDisplayed(t)}}("Navigation"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async publishEvents(e){return this.beginRequest({apiVersion:"4.1-preview.1",method:"POST",routeTemplate:"_apis/ClientTrace/Events",body:e})}}t[e].ClientTraceClientName="IClientTraceRestClient",t[e].getClientTraceClient=function(r,n){return r.getRestClient(t[e].ClientTraceClientName,n)},m.RestClients.add(t[e].ClientTraceClientName,{factory:r})}("RestClientClientTrace"),function(e){R=t[e]={},t[e].traceError=function(e,t,r,n,i){e.getService("IVssTraceService").traceError(t,r,n,i)},t[e].traceException=function(e,t,r,n,i){e.getService("IVssTraceService").traceException(t,r,n,i)},t[e].traceWarning=function(e,t,r,n,i){e.getService("IVssTraceService").traceWarning(t,r,n,i)},t[e].trace=function(e,t){e.getService("IVssTraceService").trace(t)};class r extends m.VssService{constructor(){super(...arguments),this.events=[],this.globalErrorCount=0,this._onWindowError=e=>{if(e.filename&&this.globalErrorCount++<5){const t={filename:e.filename,lineNumber:e.lineno,columnNumber:e.colno,errorType:"UnhandledException"};this.traceException("WebUnhandledExceptions",(0,_.getCurrentRoute)(this.pageContext).routeId,e.error,t)}},this._onUnhandledRejection=e=>{const t=e.reason;t&&!t.isCanceled&&(console.warn(`Unhandled promise rejection: ${t}${t.stack?"\\n"+t.stack:""}`),this.globalErrorCount++<5&&this.traceException("WebUnhandledExceptions",(0,_.getCurrentRoute)(this.pageContext).routeId,t,{errorType:"UnhandledRejection"}))}}_serviceStart(e){if(super._serviceStart(e),onPreTraceServiceError&&window.removeEventListener("error",onPreTraceServiceError),preTraceServiceStartErrors&&preTraceServiceStartErrors.length>0){for(const e of preTraceServiceStartErrors)this._onWindowError(e);preTraceServiceStartErrors.length=0}this.publishInterval=window.setInterval(this._sendEvents.bind(this),1e3),window.addEventListener("error",this._onWindowError),window.addEventListener("unhandledrejection",this._onUnhandledRejection)}_serviceRestart(e){super._serviceRestart(e),this.globalErrorCount=0,this._sendEvents()}_serviceEnd(e){this.publishInterval&&(window.clearInterval(this.publishInterval),this.publishInterval=0),window.removeEventListener("error",this._onWindowError),window.removeEventListener("unhandledrejection",this._onUnhandledRejection),super._serviceEnd(e)}traceError(e,t,r,n){const i={area:e,feature:t,message:r,properties:n,level:1};this.trace(i)}traceException(e,t,r,n){const i={area:e,feature:t,message:r?r.message:r||"unknown",exceptionType:"",properties:n,level:2};r&&(i.properties||(i.properties={}),i.properties.stackTrace=r.stack,i.exceptionType=r.name),this.trace(i)}traceWarning(e,t,r,n){const i={area:e,feature:t,message:r,properties:n,level:2};this.trace(i)}trace(e){this.events.push(e)}_sendEvents(){this.events.length>0&&(0,y.executeWithSilentAuth)(this.pageContext,(e=>this._sendEventsImpl(e)))}_sendEventsImpl(e){const t=this.events;if(this.events=[],t.length>0){let r;e&&(r={authTokenProvider:e});this.pageContext.getRestClient("IClientTraceRestClient",r).publishEvents(t).catch((e=>console.log(e)))}}}m.Services.add("IVssTraceService",{serviceFactory:r,options:6})}("Trace"),function(e){t[e]={};class r extends m.VssService{constructor(){super(...arguments),this._blobPromiseMap=new Map}async getBlob(e,t){let r=this._blobPromiseMap.get(e);return r||(r=this._getBlob(e,t),this._blobPromiseMap.set(e,r),r.then((()=>{setTimeout((()=>{this._blobPromiseMap.delete(e)}),1e3)}))),r}async getBlobUrl(e,t){if(e){if((0,f.isExternalUrl)(e))return(0,R.trace)(this.pageContext,{area:n,feature:i,message:"getBlobUrl called with an external url; using it directly without passing auth",properties:{externalUrl:e}}),e;try{const r=await this.getBlob(e,t);if(r){return URL.createObjectURL(r)}}catch(e){(0,R.traceException)(this.pageContext,n,i,e)}}}async _getBlob(e,t){const r=await(0,v._issueRequest)(e,void 0,{authTokenProvider:t});if(r.ok)return await r.blob()}}m.Services.add("IAuthenticatedBlobService",{serviceFactory:r});const n="WebPlatform",i="AuthenticatedBlobService";t[e].getBlobUrl=function(e,t,r){return t?e.getService("IAuthenticatedBlobService").getBlobUrl(t,r):Promise.resolve(void 0)}}("AuthenticatedBlobService"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async createSessionToken(e){return this.beginRequest({apiVersion:"7.1-preview.1",method:"POST",routeTemplate:"_apis/WebPlatformAuth/SessionToken",body:e})}}t[e].AuthenticationClientName="IAuthenticationRestClient",t[e].getAuthenticationClient=function(r,n){return r.getRestClient(t[e].AuthenticationClientName,n)},m.RestClients.add(t[e].AuthenticationClientName,{factory:r})}("RestClientAuthentication"),function(e){function r(e){return"Bearer "+e}t[e]={},t[e].getBearerTokenAuthHeaderValue=r;class i{constructor(e,t,r=n.EmptyGuidString,i,s=0){if(this.pageContext=e,this.namedTokenId=t,this.tokenType=s,i){const e=i.indexOf(".");this.publisherName=i.substr(0,e),this.extensionName=i.substr(e+1)}else this.appId=r||n.EmptyGuidString}getAuthorizationHeader(e){return this.getSessionToken(e).then((e=>r(e.token)))}getSessionToken(e){if(!e&&(this.tokenExpirationTime&&(new Date).getTime()>this.tokenExpirationTime.getTime()-6e4&&(delete this.tokenExpirationTime,delete this.tokenPromise),this.tokenPromise))return this.tokenPromise;const t={appId:this.appId,extensionName:this.extensionName,publisherName:this.publisherName,force:e,tokenType:this.tokenType,namedTokenId:this.namedTokenId},r=this.pageContext.getRestClient("IAuthenticationRestClient");return this.tokenPromise=r.createSessionToken(t).then((e=>(this.tokenExpirationTime=e.validTo,e))),this.tokenPromise.catch((()=>delete this.tokenPromise)),this.tokenPromise}}t[e].BearerTokenProvider=class{constructor(e){this.header=r(e)}getAuthorizationHeader(e){return Promise.resolve(this.header)}};class s extends m.VssService{getDefaultTokenProvider(){return this._defaultProvider||(this._defaultProvider=new i(this.pageContext)),this._defaultProvider}getNamedTokenProvider(e){return this.getTokenProvider(e,void 0,0)}getExtensionTokenProvider(e,t){return this.getTokenProvider(void 0,e,t)}getBearerTokenProvider(e){return{getAuthorizationHeader:t=>Promise.resolve(r(e))}}getTokenProvider(e,t,r){const n=`${e}.${t}.${r}`;this._providers||(this._providers={});let s=this._providers[n];return s||(s=new i(this.pageContext,e,void 0,t,r),this._providers[n]=s),s}}m.Services.add("IAuthenticationService",{serviceFactory:s})}("Authentication"),function(e){D=t[e]={};class r extends w.VssComponent{constructor(e){super(e),this.state={}}componentDidCatch(e,t){if(this.setState({error:e,errorInfo:t}),e){const r=this.context.pageContext.getService("IVssNavigationService").getCurrentRoute().routeId,n={};t&&t.componentStack&&(n.componentStack=t.componentStack),n.errorType="ReactError";this.context.pageContext.getService("IVssTraceService").traceException("WebUnhandledExceptions",r,e,n)}}render(){if(this.state.error){const e=this.props.handlerComponentProps||{},t=Object.assign(Object.assign({},e),{reloadComponent:()=>{this.setState({error:void 0,errorInfo:void 0})},error:this.state.error,errorInfo:this.state.errorInfo});return a.createElement(w.WrappedComponent,{wrappedType:this.props.handlerComponentType,wrappedProps:t,key:"error-boundary-ui"},[])}return this.props.children}}t[e].ErrorBoundary=r}("ComponentsErrorBoundaryErrorBoundary"),function(e){t[e]={},__exportStar(D,t[e])}("ComponentsErrorBoundary"),function(e){k=t[e]={};t[e].FormatComponent=e=>{let t;const{format:r,elementType:n,children:i}=e,s=__rest(e,["format","elementType","children"]);if(r){const e=r.split(/(?:\{)([0-9]+)(?:\})/),n=a.Children.toArray(i);t=[];const s={};for(let r=0;r<e.length;++r){const i=e[r];if(1&r){const e=parseInt(i,10);if(s[e])throw new Error(`Index in the format can only be used once, recurring index is ${e}`);{const r=n[e];if(!r)throw new Error(`No element found for the specified index ${e}`);t.push(r),s[e]=!0}}else t.push(i)}}return null===n?a.createElement(a.Fragment,null,t||i):a.createElement(n||"span",s,t||i)}}("ComponentsFormatFormat"),function(e){t[e]={},__exportStar(k,t[e])}("ComponentsFormat"),function(e){x=t[e]={};class r extends w.VssComponent{constructor(){super(...arguments),this.elementRef=a.createRef(),this._onTelemetryProxy=e=>{let t={area:"vss-telemetry-proxy",component:e.detail.component,feature:e.detail.feature,level:e.detail.level,message:e.detail.message,method:e.detail.method,properties:e.detail.properties};const r=this.props.components.find((e=>{var t,r;return(null===(t=e.componentRegion)||void 0===t?void 0:t.includes("content"))&&"main"===(null===(r=e.componentProperties)||void 0===r?void 0:r.role)}))||!1;t&&r&&(0,R.trace)(this.context.pageContext,t)}}componentDidMount(){this.timerManagement=new l.TimerManagement,this.onTelemetryProxy=this.timerManagement.debounce(this._onTelemetryProxy,250,{trailing:!0}),this.addEventListener(this.elementRef.current,"vss-telemetry-proxy",this.onTelemetryProxy)}render(){return a.createElement(this.props.elementType||"div",{"aria-label":this.props["aria-label"],className:(0,w.css)(this.props.orientation&&"column"===this.props.orientation?"flex-column":"flex-row",this.props.className),ref:this.elementRef},this.props.components.map(((e,t)=>{let r;return e.componentType?r=a.createElement(w.WrappedComponent,Object.assign(Object.assign({key:t,hasBoundary:!!e.errorBoundaryProps},e.componentProperties),{wrappedType:e.componentType})):e.componentRegion&&(r=a.createElement(w.RegionComponent,Object.assign(Object.assign({key:t,hasBoundary:!!e.errorBoundaryProps},e.componentProperties),{componentRegion:e.componentRegion}))),e.errorBoundaryProps?a.createElement(D.ErrorBoundary,Object.assign({key:t},e.errorBoundaryProps),r):r})))}componentWillUnmount(){this.removeEventListener(this.elementRef.current,"vss-telemetry-proxy",this.onTelemetryProxy)}}t[e].LayoutComponent=r,r.componentType="layout",w.VssComponent.register(r.componentType,r);class n extends w.VssComponent{render(){return a.createElement("div",{className:(0,w.css)("flex-grow",this.props.className)})}}t[e].LayoutFillerComponent=n,n.componentType="layoutFiller",w.VssComponent.register(n.componentType,n);class i extends w.VssComponent{render(){return a.createElement(this.props.elementType||"div",{className:this.props.className},this.props.text)}}t[e].HtmlElementComponent=i,i.componentType="htmlElement",w.VssComponent.register(i.componentType,i);class s extends a.Component{render(){return null}}t[e].NoOpComponent=s,s.componentType="NoOp",w.VssComponent.register(s.componentType,s)}("ComponentsLayoutLayout"),function(e){t[e]={},__exportStar(x,t[e])}("ComponentsLayout"),function(e){N=t[e]={};class r extends m.VssService{isFeatureEnabled(e,t){const r=this.getSharedDataState("_features",e,t);if(void 0===r){const t=`Could not find feature state for feature '${e}'. Ensure that the feature is included in shared data.`;return console.warn(t),!1}return r}isFeatureFlagEnabled(e,t){const r=this.getSharedDataState("_featureFlags",e,t);if(void 0===r){const t=`Could not find feature flag state for '${e}'. Ensure that the feature flag is included in shared data.`;return console.warn(t),!1}return r}getSharedDataState(e,t,r){const n=this.pageContext.getService("IVssContributionService").getSharedData(e);if(n){const e=n[t];if(void 0!==e)return e}return r}}m.Services.add("IVssFeatureService",{serviceFactory:r}),t[e].isFeatureEnabled=function(e,t,r){return e.getService("IVssFeatureService").isFeatureEnabled(t,r)},t[e].isFeatureFlagEnabled=function(e,t,r){return e.getService("IVssFeatureService").isFeatureFlagEnabled(t,r)}}("Feature"),function(e){var r;F=t[e]={},function(e){e.statePopped="statePopped"}(r=t[e].HistoryServiceEventNames||(t[e].HistoryServiceEventNames={}));class n extends m.VssObservableService{constructor(){super(...arguments),this.onbeginDataProviderQuery=e=>{e.properties.sourcePage={url:window.location.href,routeId:this._currentRoute.routeId,routeValues:this.getCurrentRouteValues()}},this._onPopState=e=>{const t=e.state;let n;t&&t.vssNavigationState&&(n=t.vssNavigationState);const i=this._currentState;this._currentState=n;const s={oldState:i,newState:n};this._notify(s,r.statePopped)}}_serviceStart(e){super._serviceStart(e),this._initialize(),window.addEventListener("popstate",this._onPopState),this._currentRoute&&this.replaceState(void 0,void 0)}_serviceRestart(e){super._serviceRestart(e),this._initialize(),this.replaceState(void 0,window.location.href)}replaceState(e,t,r,n){this._setState(!0,e,t,r,n)}pushState(e,t,r,n){this._setState(!1,e,t,r,n)}getData(){return this._currentState&&this._currentState.data}getState(){let e;return e=this._currentState&&this._currentState.state?Object.assign({},this._currentState.state):this._getStateFromUrl(window.location.href),e}generateUrl(e,t=2){const r=this._currentRoute.routeValues;let n;switch(t){case 2:n=Object.assign(Object.assign({},this.getState()),e);break;case 1:n=Object.assign(Object.assign({},this.getCurrentRouteValues()),e);break;default:n=e}const i=(0,f.getBestRouteMatch)(this._currentRoute.parsedRoutes,n);let s="";i&&(s=i.url);const o=new f.Uri((0,f.combineUrlPaths)(this._pageData.hostPath,s));if(i)for(const e in n)if(!i.matchedParameters[e]){const t=n[e];null!=t&&r[e]!==t&&o.addQueryParam(e,t)}return o.absoluteUri}getCurrentRouteValues(){const e=this._currentRoute.routeValues,t={},r=this.getState();for(const n in e)t[n]=r[n];return t}_initialize(){const e=this.pageContext.getService("IVssPageService");this._pageData=e.getData();const t=this.pageContext.getService("IVssNavigationService");this._currentRoute=t.getCurrentRoute(),this._unsubscribeOnRestart&&this._unsubscribeOnRestart();const r=this.pageContext.getService("IVssContributionService");r.subscribe(this.onbeginDataProviderQuery,"dpqStarting"),this._unsubscribeOnRestart=()=>{r.unsubscribe(this.onbeginDataProviderQuery,"dpqStarting")}}_setState(e,t,r,n,i){r&&!t?t=this._getStateFromUrl(r):t&&!r?r=this.generateUrl(t,0):r||t||(r=window.location.href,(t=this._currentState&&this._currentState.state)||(t=this._getStateFromUrl(r))),null==n&&(n=this._currentRoute.routeId);const s=window.history.state;let o={};e&&s&&s.vssNavigationState&&(o=s.vssNavigationState.data),i&&(o=Object.assign(Object.assign({},o),i));const a={state:t,routeId:n,data:o,url:r},c=e?Object.assign(Object.assign({},s),{vssNavigationState:a}):{vssNavigationState:a};this._currentState=a,e||window.location.href===r?window.history.replaceState(c,void 0,r):window.history.pushState(c,void 0,r)}_getStateFromUrl(e){const t=Object.assign({},this._currentRoute.routeValues);if(e){const r=new f.Uri(e);for(const e of r.queryParameters)t[e.name]=e.value||""}return t}}m.Services.add("IVssHistoryService",{serviceFactory:n,options:6})}("History"),function(e){A=t[e]={};const r="navigation/fpsCIEvent";let n,i=0,s=0;function o(e,t,r={}){const n=e.getService("IVssNavigationService"),i=e.getService("IVssPageService").getData(),s=n.getDisplayedNavigation();return Object.assign(Object.assign({},r),{source:t||"unknown",sourceNavigationId:s[s.length-1],sourceRouteId:n.getCurrentRoute().routeId,startNavigationOffset:Date.now()-window.performance.timing.navigationStart,serviceVersion:i?i.serviceVersion:void 0})}function a(e,t){t.endNavigationOffset=Date.now()-window.performance.timing.navigationStart,(0,E.publishEvent)(e,"WebPlatform","FPS",t)}function c(e,t,c,u={}){var l;const h=++i,m={pageContext:e,href:t,recordHistoryEntry:c,data:u,startTime:Date.now()};n&&(n.cancel(),n=null);const g=o(e,u.telemetrySource,u.telemetryProperties);(null===(l=null===performance||void 0===performance?void 0:performance.memory)||void 0===l?void 0:l.usedJSHeapSize)&&(g.usedJSHeapSize=performance.memory.usedJSHeapSize),g.navigationId=h;const v=new CustomEvent("fpsStarting",{cancelable:!0,detail:Object.assign({},m)});if(null===performance||void 0===performance?void 0:performance.memory){const e=1073741824,n=performance.memory.usedJSHeapSize;if(n>e&&n>s)return g.highMemoryUsage=!0,(0,T.trySetLocalStorageObject)(r,g),window.location.href=t,Promise.resolve(!1);s=n}if(document.body.dispatchEvent(v)){const i={cache:"no-cache",method:"GET",mode:"same-origin"},s=new f.Uri(t);s.addQueryParam("__rt","fps");const o=e.getService("IVssPageService").getData();o&&s.addQueryParam("__ver",""+o.webPlatformVersion),document.body.dispatchEvent(new CustomEvent("fpsLoading",{cancelable:!1,detail:Object.assign({},m)}));e.getService("IVssPerformanceService").addSplitTiming("fpsRequestStarting");let u,l=new f.Uri(t);if(!l.scheme&&o&&function(e){try{return"1"===new f.Uri(window.location.href).getQueryParam("use_spa")||document.cookie.includes("use_spa=1")||(0,N.isFeatureFlagEnabled)(e,"Authentication.UseCookielessFlow")}catch(e){return console.log(e),!1}}(e)){const e=new f.Uri(window.location.href);e.path=l.path,e.queryString=l.queryString,e.hashString=l.hashString,l=new f.Uri((0,f.combineUrlPaths)(o.hostPath,"_public/_MsalSignInFps")),l.addQueryParam("location",e.absoluteUri)}const v=e.getService("ITokenProviderService").getRedirectProvider(l.absoluteUri);v&&(u={authTokenProvider:v});const S=(0,d.makeCancelable)((0,C.issueRequest)(s.absoluteUri,i,u)),b=S.promise.then((i=>(n===S&&(n=null),i.text().then((n=>{e.getService("IVssPerformanceService").addSplitTiming("fpsResponseReceived");let i=null;try{i=(0,p.deserializeVssJsonObject)(n)}catch(e){return console.log(`Not a valid FPS response: ${e.message||e}. Performing full page navigation`),g.invalidFPSResponse=!0,(0,T.trySetLocalStorageObject)(r,g),window.location.href=t,!0}const s=i&&i.fps;if(s&&(s.dataProviders&&(0,p.updateJsonScriptValue)("dataProviders",s.dataProviders,!0),s.performance&&(0,p.updateJsonScriptValue)("serverStatistics",s.performance),s.content)){if(e.getService("IFastPageSwitchService").hasStaleContent(s.content))return g.staleContent=!0,a(e,g),window.location.href=t,!0;const r=e.getService("IVssContentService");r.resetResolvedContent(),r.loadScripts(s.content)}const o=e.getService("IVssHistoryService");c?o.pushState(void 0,t,void 0,{fpsNavigationId:h}):o.replaceState(void 0,t,void 0,{fpsNavigationId:h}),document.body.dispatchEvent(new CustomEvent("fpsLoaded",{cancelable:!1,detail:Object.assign({fpsResponse:i},m)})),document.body.dispatchEvent(new CustomEvent("fpsCompleted",{cancelable:!1,detail:Object.assign({fpsResponse:i,success:!0},m)}));const u=e.getService("IVssNavigationService"),l=u.getDisplayedNavigation();return g.targetNavigationId=l[l.length-1],g.targetRouteId=u.getCurrentRoute().routeId,g.success=!0,a(e,g),!0}))))).catch((i=>(n!==S||i.isCanceled?(g.cancelledByOtherFPS=!0,a(e,g)):(g.failed=!0,(0,T.trySetLocalStorageObject)(r,g),window.location.href=t),n===S&&(n=null),document.body.dispatchEvent(new CustomEvent("fpsCompleted",{cancelable:!1,detail:Object.assign({success:!1,reason:i},m)})),!1)));return n=S,b}return g.cancelledByUser=!0,v.detail.cancellationReason&&(g.cancellationReason=v.detail.cancellationReason),a(e,g),Promise.resolve(!1)}t[e].onClickFPS=function(e,t,r,n,i={}){const{ctrlKey:s,metaKey:u,shiftKey:l,button:d}=n||{};if(!(s||u||l||1===d))return c(e,t,r,i),n&&n.preventDefault(),!0;a(e,Object.assign(Object.assign({},o(e,i.telemetrySource,i.telemetryProperties)),{external:!0,ctrlKey:s,metaKey:u,shiftKey:l,middleClick:1===d}))},t[e].FastPageSwitch=c;class u extends m.VssService{constructor(){super(...arguments),this.loadedContentIntegrity={},this.loadedContentFilenames={},this._onNavigate=e=>{if(e.newState){(e.oldState&&e.oldState.data&&e.oldState.data.fpsNavigationId)!==(e.newState.data&&e.newState.data.fpsNavigationId)&&c(this.pageContext,e.newState.url,!1,{})}},this._onContentLoaded=e=>{const t=e.contentAttributes;t&&t.clientId&&(t.integrity&&(this.loadedContentIntegrity[t.clientId]=t.integrity),this.loadedContentFilenames[t.clientId]=this.getFileName(t.url))}}_serviceStart(e){super._serviceStart(e);try{const t=(0,T.tryGetLocalStorageObject)(r);if((0,T.trySetLocalStorageObject)(r,void 0),t){const r=e.getService("IVssNavigationService"),n=r.getDisplayedNavigation();t.targetNavigationId=n[n.length-1],t.targetRouteId=r.getCurrentRoute().routeId,a(e,t)}}catch(e){}e.getService("IVssHistoryService").subscribe(this._onNavigate,F.HistoryServiceEventNames.statePopped);const t=e.getService("IVssPageService").getData();if(t&&t.isBundlingEnabled){this.bundlingEnabled=!0;e.getService("IVssContentService").subscribe(this._onContentLoaded,"contentComplete")}}hasStaleContent(e){let t=!1;if(this.bundlingEnabled)for(const r of e)if(r.clientId){if(r.integrity){const e=this.loadedContentIntegrity[r.clientId];if(e&&e!==r.integrity){t=!0;break}}const e=this.loadedContentFilenames[r.clientId];if(e&&e!==this.getFileName(r.url)){t=!0;break}}return t}getFileName(e){const t=e.lastIndexOf("/");return t>=0?e.substr(t+1):e}}m.Services.add("IFastPageSwitchService",{serviceFactory:u,options:6})}("FPS"),function(e){M=t[e]={};class r extends w.VssComponent{render(){const e=Object.assign(Object.assign({},this.props),{onClick:e=>{e.isDefaultPrevented()||(this.props.href&&!1!==this.props.supportsFPS?(0,A.onClickFPS)(this.context.pageContext,this.props.href,!0,e,{telemetrySource:this.props.telemetrySource,telemetryProperties:this.props.telemetryProperties,navigationId:this.props.navigationId}):this.props.telemetrySource&&(0,E.publishEvent)(this.context.pageContext,"WebPlatform","Link",Object.assign(Object.assign({},this.props.telemetryProperties||{}),{source:this.props.telemetrySource})))}});return delete e.navigationId,delete e.supportsFPS,delete e.telemetrySource,delete e.telemetryProperties,a.createElement("a",e,this.props.children)}}t[e].FPSLinkComponent=r}("ComponentsFPSLinkFPSLink"),function(e){t[e]={},__exportStar(M,t[e])}("ComponentsFPSLink"),function(e){V=t[e]={},t[e].PerformanceScenarioContext=a.createContext({getScenario:()=>{},registerPendingWork:()=>{},resetScenario:()=>{}}),t[e].usePerformanceScenarioContext=function(){return a.useContext(t[e].PerformanceScenarioContext)};class r extends w.VssComponent{constructor(){super(...arguments),this.pendingWork=[],this.scenarioComplete=!1,this.mounted=!1}render(){const{area:r,scenarioName:n,startTime:i,telemetryProperties:s,tti:o}=this.props,c=this.context.pageContext.getService("IVssPerformanceService");return this.scenario=i?c.startScenario(n,!!o,i.getTime(),s):c.startScenarioFromNavigation(n,!!o,s),this.scenario.featureArea=r,a.createElement(t[e].PerformanceScenarioContext.Provider,{value:{getScenario:()=>this.scenario,registerPendingWork:e=>{const t={name:e,completed:!1,complete:()=>{t.completed||(t.completed=!0,c.addSplitTiming(e+".end",n),this.checkForScenarioComplete())}};return this.pendingWork.push(t),c.addSplitTiming(e+".start",n),t},resetScenario:()=>(this.scenarioComplete=!1,this.pendingWork.length=0,this.scenario=c.startScenario(n,!!o,Date.now(),s),this.scenario)}},this.props.children)}componentDidMount(){super.componentDidMount(),this.mounted=!0,this.checkForScenarioComplete()}componentWillUnmount(){super.componentWillUnmount(),this.mounted=!1}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.checkForScenarioComplete()}checkForScenarioComplete(){this.mounted&&!this.scenarioComplete&&this.pendingWork.every((e=>e.completed))&&(this.scenarioComplete=!0,this.scenario.complete())}}t[e].PerformanceScenario=r}("ComponentsPerformancePerformance"),function(e){t[e]={},__exportStar(V,t[e])}("ComponentsPerformance"),function(e){L=t[e]={},t[e].START_RIGHT_AREA="StartRight",t[e].START_RIGHT_CREATE_REPO_FEATURE="CreateRepoRedirect",t[e].START_RIGHT_IMPORT_REPO_FEATURE="ImportRepoRedirect",t[e].START_RIGHT_FORK_REPO_FEATURE="ForkRepoRedirect",t[e].START_RIGHT_CREATE_PIPELINE_URL_FEATURE="GetCreatePipelineUrl",t[e].START_RIGHT_CREATE_PIPELINE_URL_REPOSITORY_FEATURE="GetCreatePipelineUrlByRepository",t[e].START_RIGHT_CREATE_PIPELINE_URL_FOLDER_FEATURE="GetCreatePipelineUrlByPipelineFolder"}("CustomerIntelligenceConstants"),function(e){let r,n,i;function s(){return n||(n={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},numberShortForm:{QuantitySymbols:["K","M","B"],NumberGroupSize:1e3,ThousandSymbol:"K"},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),n}O=t[e]={},t[e].getInvariantCulture=s,t[e].checkIfCustomerCurrentCultureExists=function(){var e;return void 0===i&&(i=Boolean(null===(e=(0,m.getPageContext)("ms.vss-web.legacy-platform-data-provider"))||void 0===e?void 0:e.microsoftAjaxConfig)),i},t[e].getCurrentCulture=function(){var e;if(!r){var t=null===(e=(0,m.getPageContext)("ms.vss-web.legacy-platform-data-provider"))||void 0===e?void 0:e.microsoftAjaxConfig;t&&t.cultureInfo?(r=t.cultureInfo,t.cultureInfo.eras&&(r.dateTimeFormat.eras=t.cultureInfo.eras)):r=s()}return r}}("Culture"),function(e){function r(e,t,r){return n.dateToString(e,t,r||"g")}var n;U=t[e]={},t[e].dateToString=r,t[e].parseShortTimeString=function(e){if((0,O.checkIfCustomerCurrentCultureExists)())return n.parseShortTimeString(e,(0,O.getCurrentCulture)())},t[e].format=function(e,...t){return function(e,t,n){let i="";for(let s=0;;){const o=t.indexOf("{",s),a=t.indexOf("}",s);if(o<0&&a<0){i+=t.slice(s);break}if(a>0&&(a<o||o<0)){if("}"!==t.charAt(a+1))throw new Error("The format string contains an unmatched opening or closing brace.");i+=t.slice(s,a+1),s=a+2;continue}if(i+=t.slice(s,o),s=o+1,"{"===t.charAt(s)){i+="{",s++;continue}if(a<0)throw new Error("The format string contains an unmatched opening or closing brace.");const c=t.substring(s,a),u=c.indexOf(":"),l=parseInt(u<0?c:c.substring(0,u),10);if(isNaN(l))throw new Error("The format string is invalid.");const d=u<0?"":c.substring(u+1);let h=n[l];null==h&&(h=""),h.toFormattedString?i+=h.toFormattedString(d):h instanceof Date?i+=r(h,e):h.format?i+=h.format(d):i+=h.toString(),s=a+1}return i}(!1,e,t)},function(e){function t(e,t){if(!t)return 0;let r;const n=e.getTime();for(let e=0,i=t.length;e<i;e+=4)if(r=t[e+2],null===r||n>=r)return e;return 0}function r(e,t,r,n){let i=e.getFullYear();const s=t.Calendar.convert;return s&&(i=s.fromGregorian(e)[0]),!n&&t.eras&&(i-=t.eras[r+3]),i}function n(e,t){t||(t="F");const r=t.length;if(1===r)switch(t){case"d":return e.ShortDatePattern;case"D":return e.LongDatePattern;case"g":return e.ShortDatePattern+" "+e.ShortTimePattern;case"G":return e.ShortDatePattern+" "+e.LongTimePattern;case"t":return e.ShortTimePattern;case"T":return e.LongTimePattern;case"f":return e.LongDatePattern+" "+e.ShortTimePattern;case"F":return e.FullDateTimePattern;case"M":return e.MonthDayPattern;case"m":return function(e){return e.ShortDatePattern.replace(/\by{4}\W*|\by{2}\W*|\W*y{4}\b|\W*y{2}\b/i,"")}(e);case"s":return e.SortableDateTimePattern;case"Y":case"y":return e.YearMonthPattern;case"R":case"r":return e.RFC1123Pattern;case"u":return e.UniversalSortableDateTimePattern;default:throw new Error("Input string was not in a correct format.")}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function i(e,t){let r=0,n=!1;for(let i=0,s=e.length;i<s;i++){const s=e.charAt(i);switch(s){case"'":n?t.push("'"):r++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return r}function s(e,n){const i=new Date,s=t(i,e.eras);if(n<100){const t=r(i,e,s);(n+=t-t%100)>e.Calendar.TwoDigitYearMax&&(n-=100)}return n}function o(e,t){if(void 0===t)return-1;for(let r=0,n=e.length;r<n;r++)if(void 0!==e[r]&&e[r]===t)return r;return-1}function a(e,t,r){const n=p(e);let i=o(t,n);return-1===i&&(i=o(r,n)),i}function c(e,t){return e._upperMonths||(e._upperMonths=h(e.dateTimeFormat.MonthNames),e._upperMonthsGenitive=h(e.dateTimeFormat.MonthGenitiveNames)),a(t,e._upperMonths,e._upperMonthsGenitive)}function u(e,t){return e._upperAbbrMonths||(e._upperAbbrMonths=h(e.dateTimeFormat.AbbreviatedMonthNames),e._upperAbbrMonthsGenitive=h(e.dateTimeFormat.AbbreviatedMonthGenitiveNames)),a(t,e._upperAbbrMonths,e._upperAbbrMonthsGenitive)}function l(e,t){return e._upperDays||(e._upperDays=h(e.dateTimeFormat.DayNames)),o(e._upperDays,p(t))}function d(e,t){return e._upperAbbrDays||(e._upperAbbrDays=h(e.dateTimeFormat.AbbreviatedDayNames)),o(e._upperAbbrDays,p(t))}function h(e){const t=[];for(let r=0,n=e.length;r<n;r++)t[r]=p(e[r]);return t}function p(e){return e.split("").join(" ").toUpperCase()}e.dateToString=function(e,i,s){const o=i?(0,O.getCurrentCulture)().dateTimeFormat:(0,O.getInvariantCulture)().dateTimeFormat,a=o.Calendar.convert;if(!s||!s.length||"i"===s){if(!i)return e.toString();if(!a){const n=new Date(e.getTime()),i=t(e,o.eras);return n.setFullYear(r(e,o,i)),n.toLocaleString()}s=o.FullDateTimePattern}const c=o.eras,u="s"===s;s=n(o,s);const l=[];let d,h,p;function m(e){return e<10?"0"+e:e.toString()}function g(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}function v(e,t){let r=0,n=!1;for(let i=0,s=e.length;i<s;i++){const s=e.charAt(i);switch(s){case"'":n?t.push("'"):r++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return r}const f=/([^d]|^)(d|dd)([^d]|$)/g;function S(){return h||p||(h=!!s&&f.test(s),p=!0),h}let b=0,y=[];const C=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;function P(e,t){if(0!==y.length)return y[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(!u&&a&&(y=a.fromGregorian(e));;){const n=C.lastIndex,i=C.exec(s);if(b+=v(s.slice(n,i?i.index:s.length),l),!i)break;if(b%2!=1)switch(i[0]){case"dddd":l.push(o.DayNames[e.getDay()]);break;case"ddd":l.push(o.AbbreviatedDayNames[e.getDay()]);break;case"dd":h=!0,l.push(m(P(e,2)));break;case"d":h=!0,l.push(P(e,2));break;case"MMMM":l.push(o.MonthGenitiveNames&&0!==o.MonthGenitiveNames.length&&S()?o.MonthGenitiveNames[P(e,1)]:o.MonthNames[P(e,1)]);break;case"MMM":l.push(o.AbbreviatedMonthGenitiveNames&&0!==o.AbbreviatedMonthGenitiveNames.length&&S()?o.AbbreviatedMonthGenitiveNames[P(e,1)]:o.AbbreviatedMonthNames[P(e,1)]);break;case"MM":l.push(m(P(e,1)+1));break;case"M":l.push(P(e,1)+1);break;case"yyyy":l.push((T=0!==y.length?y[0]:r(e,o,t(e,c),u))<10?"000"+T:T<100?"00"+T:T<1e3?"0"+T:T.toString());break;case"yy":l.push(m((0!==y.length?y[0]:r(e,o,t(e,c),u))%100));break;case"y":l.push(((0!==y.length?y[0]:r(e,o,t(e,c),u))%100).toString());break;case"hh":d=e.getHours()%12,0===d&&(d=12),l.push(m(d));break;case"h":d=e.getHours()%12,0===d&&(d=12),l.push(d.toString());break;case"HH":l.push(m(e.getHours()));break;case"H":l.push(e.getHours().toString());break;case"mm":l.push(m(e.getMinutes()));break;case"m":l.push(e.getMinutes().toString());break;case"ss":l.push(m(e.getSeconds()));break;case"s":l.push(e.getSeconds().toString());break;case"tt":l.push(e.getHours()<12?o.AMDesignator:o.PMDesignator);break;case"t":l.push((e.getHours()<12?o.AMDesignator:o.PMDesignator).charAt(0));break;case"f":l.push(g(e.getMilliseconds()).charAt(0));break;case"ff":l.push(g(e.getMilliseconds()).substr(0,2));break;case"fff":l.push(g(e.getMilliseconds()));break;case"z":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+Math.floor(Math.abs(d)));break;case"zz":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+m(Math.floor(Math.abs(d))));break;case"zzz":d=e.getTimezoneOffset()/60,l.push((d<=0?"+":"-")+m(Math.floor(Math.abs(d)))+":"+m(Math.abs(e.getTimezoneOffset()%60)));break;case"g":case"gg":o.eras&&l.push(o.eras[t(e,c)+1]);break;case"/":l.push(o.DateSeparator);break;default:new Error("Invalid date format pattern")}else l.push(i[0])}var T;return l.join("")},e.parseShortTimeString=function(e,t){var r;return null!==(r=function(e,t,r){e=e.trim();const o=r.dateTimeFormat,a=function(e,t){if(e._parseRegExp){if(e._parseRegExp[t])return e._parseRegExp[t]}else e._parseRegExp={};let r=n(e,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");const s=[],o=[];let a=0,c=0;const u=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;let l;for(;null!==(l=u.exec(r));){const t=r.slice(a,l.index);if(a=u.lastIndex,c+=i(t,s),c%2!=1){switch(l[0]){case"MMMM":case"MMM":s.push("([\\d\\D]+)");break;case"dddd":case"ddd":case"gg":case"g":s.push("(\\D+)");break;case"tt":case"t":s.push("(\\D*)");break;case"yyyy":s.push("(\\d{4})");break;case"fff":s.push("(\\d{3})");break;case"ff":s.push("(\\d{2})");break;case"f":s.push("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":s.push("(\\d\\d?)");break;case"zzz":s.push("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":s.push("([+-]?\\d\\d?)");break;case"/":s.push("(\\"+e.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.")}o.push(l[0])}else s.push(l[0])}i(r.slice(a),s),s.push("$");const d={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return e._parseRegExp[t]=d,d}(o,t),h=new RegExp(a.regExp).exec(e);if(null===h)return null;const p=a.groups;let m,g=null,v=null,f=null,S=null,b=null,y=0,C=0,P=0,T=0,E=null,I=!1;for(let e=0,t=p.length;e<t;e++){const t=h[e+1];if(t)switch(p[e]){case"dd":case"d":if(S=parseInt(t,10),S<1||S>31)return null;break;case"MMMM":if(f=c(r,t),f<0||f>11)return null;break;case"MMM":if(f=u(r,t),f<0||f>11)return null;break;case"M":case"MM":if(f=parseInt(t,10)-1,f<0||f>11)return null;break;case"y":case"yy":if(v=s(o,parseInt(t,10)),v<0||v>9999)return null;break;case"yyyy":if(v=parseInt(t,10),v<0||v>9999)return null;break;case"h":case"hh":if(y=parseInt(t,10),12===y&&(y=0),y<0||y>11)return null;break;case"H":case"HH":if(y=parseInt(t,10),y<0||y>23)return null;break;case"m":case"mm":if(C=parseInt(t,10),C<0||C>59)return null;break;case"s":case"ss":if(P=parseInt(t,10),P<0||P>59)return null;break;case"tt":case"t":const e=t.toUpperCase();if(I=e===o.PMDesignator.toUpperCase(),!I&&e!==o.AMDesignator.toUpperCase())return null;break;case"f":if(T=100*parseInt(t,10),T<0||T>999)return null;break;case"ff":if(T=10*parseInt(t,10),T<0||T>999)return null;break;case"fff":if(T=parseInt(t,10),T<0||T>999)return null;break;case"dddd":if(b=l(r,t),b<0||b>6)return null;break;case"ddd":if(b=d(r,t),b<0||b>6)return null;break;case"zzz":const n=t.split(/:/);if(2!==n.length)return null;if(m=parseInt(n[0],10),m<-12||m>13)return null;const i=parseInt(n[1],10);if(i<0||i>59)return null;E=60*m+(t.startsWith("-")?-i:i);break;case"z":case"zz":if(m=parseInt(t,10),m<-12||m>13)return null;E=60*m;break;case"g":case"gg":let a=t;if(!a||!o.eras)return null;a=a.toLowerCase().trim();for(let e=0,t=o.eras.length;e<t;e+=4)if(a===o.eras[e+1].toLowerCase()){g=e;break}if(null===g)return null}}let w,_=new Date;const R=o.Calendar.convert;w=R?R.fromGregorian(_)[0]:_.getFullYear();null===v?v=w:o.eras&&(v+=o.eras[(g||0)+3]);null===f&&(f=0);null===S&&(S=1);if(R){if(_=R.toGregorian(v,f,S),null===_)return null}else{if(_.setFullYear(v,f,S),_.getDate()!==S)return null;if(null!==b&&_.getDay()!==b)return null}I&&y<12&&(y+=12);if(_.setHours(y,C,P,T),null!==E){const e=_.getMinutes()-(E+_.getTimezoneOffset());_.setHours(_.getHours()+parseInt(e/60,10),e%60)}return _}(e,t.dateTimeFormat.ShortTimePattern,t))&&void 0!==r?r:void 0}}(n||(n={}))}("String"),function(e){t[e]={},t[e].millisecond=1,t[e].second=1e3*t[e].millisecond,t[e].minute=60*t[e].second,t[e].hour=60*t[e].minute,t[e].day=24*t[e].hour,t[e].week=7*t[e].day;const r={};function n(e,t,r){return(0,O.checkIfCustomerCurrentCultureExists)()?(0,U.dateToString)(e,!0,t):r?r.format(e):e.toLocaleDateString()}t[e].localeDateFormat=n,t[e].dateformat=function(e,t,r){return(0,O.checkIfCustomerCurrentCultureExists)()?(0,U.dateToString)(e,!1,t):r?r.format(e):e.toLocaleDateString()},t[e].ago=function(i,s,o,a){let c=r[a||""];c||(r[a||""]=c={}),o||(o=new Date),s||(s=0);const u=o.getTime()-i.getTime();let l="";if(u<2*t[e].minute)l=h.JustNow;else if(0===s)if(u<59*t[e].minute)l=(0,U.format)(h.AgoMinutes,Math.round(u/t[e].minute));else if(o.getDate()===i.getDate()&&o.getMonth()===i.getMonth()&&o.getFullYear()===i.getFullYear())l=(0,U.format)(h.AgoHours,Math.round(u/t[e].hour));else if(u<t[e].week&&o.getDay()!==i.getDay()){const e=new Date;e.setDate(o.getDate()-1),l=i.getDate()===e.getDate()?h.Yesterday:n(i,"ddd",new Intl.DateTimeFormat(a,{weekday:"long"}))}else o.getFullYear()===i.getFullYear()?(c.ctShortFormat=c.ctShortFormat||new Intl.DateTimeFormat(a,{month:"short",day:"numeric"}),l=n(i,"m",c.ctShortFormat)):(c.ctLongFormat=c.ctLongFormat||new Intl.DateTimeFormat(a,{month:"short",year:"numeric",day:"numeric"}),l=n(i,"d",c.ctLongFormat));else if(1===s){let r="";if(o.getDate()===i.getDate()&&o.getMonth()===i.getMonth()&&o.getFullYear()===i.getFullYear())r=h.Today;else if(u<t[e].week&&o.getDay()!==i.getDay()){const e=new Date;e.setDate(o.getDate()-1),i.getDate()===e.getDate()?r=h.Yesterday:(c.exWeekFormat=c.exWeekFormat||new Intl.DateTimeFormat(a,{weekday:"short"}),r=n(i,"ddd",c.exWeekFormat))}else o.getFullYear()===i.getFullYear()?(c.exMonthFormat=c.exMonthFormat||new Intl.DateTimeFormat(a,{month:"short",day:"numeric"}),r=n(i,"m",c.exWeekFormat)):(c.exYearFormat=c.exYearFormat||new Intl.DateTimeFormat(a,{month:"short",year:"numeric",day:"numeric"}),l=n(i,"d",c.ctLongFormat));c.timeFormat=c.timeFormat||new Intl.DateTimeFormat(a,{hour:"numeric",minute:"numeric"});const s=n(i,"t",c.timeFormat);l=(0,U.format)(h.DayAtTimeFormat,r,s)}return l||(l=i.toString()),l}}("Date"),function(e){t.Fallback={};class r extends m.VssService{constructor(){super(...arguments),this.secureFlag="",this.usedCdnFallback=!1,this.contentLoadError=e=>{if(!this.usedCdnFallback){this.usedCdnFallback=!0;const t=28800;document.cookie=`TFS-CDN=disabled;max-age=${t};path=/${this.secureFlag}`,document.cookie=`TFS-CDNTRACE=report-true;path=/${this.secureFlag}`,(0,A.onClickFPS)(this.pageContext,window.location.href,!1,void 0,{telemetrySource:"cdn.fallback.service",telemetryProperties:{failingContent:e},customUnloadMessage:h.CdnFallbackErrorMessage})}}}_serviceStart(e){super._serviceStart(e);const t=this.pageContext.getService("IVssPageService").getData();if(t&&t.isCdnEnabled){t.isSslOnly&&(this.secureFlag=";secure");this.pageContext.getService("IVssContentService").subscribe(this.contentLoadError,"contentLoadError")}}}m.Services.add("IVssFallbacksService",{serviceFactory:r,options:6})}(),function(e){t[e]={};class r extends m.VssService{constructor(){super(...arguments),this.cachedIdentityDetails={}}getIdentityDetails(e){let t=this.cachedIdentityDetails[e];if(!t){const r=this.getSharedIdentityDetails(e);r&&(t={id:e,displayName:r.displayName,imageId:r.identityImageId,imageUrl:this.getIdentityImageUrl(e)},this.cachedIdentityDetails[e]=t)}if(!t)throw new Error(`Missing shared identity details for identity with id ${e}.`);return t}getIdentityImageUrl(e,t=0){return"string"==typeof e?this._getIdentityImageUrlFromIdentityId(e,t):this._getIdentityImageUrlFromIdentityRef(e,t)}getSharedIdentityDetails(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_identityDetails");return t?t[e]:void 0}_getIdentityImageUrlFromIdentityId(e,t){let r;const n=this.getSharedIdentityDetails(e);n&&(r=n.identityImageId||"0");let i=`_api/_common/identityImage?id=${e}&size=${t}`;r&&(i+=`&t=${r}`);const s=this.pageContext.getService("IVssPageService").getData();return s&&s.hostPath&&(i=(0,f.combineUrlPaths)(encodeURI(s.hostPath),i)),i}_getIdentityImageUrlFromIdentityRef(e,t){const r=e._links&&e._links.avatar&&e._links.avatar.href;if(r&&-1!==e._links.avatar.href.indexOf("avatars.githubusercontent.com")){const r=new f.Uri(e._links.avatar.href);let n;switch(t){case 1:n=44;break;case 2:n=220;break;default:n=34}return r.addQueryParam("size",""+n,!0),r.absoluteUri}if(r){const r=new f.Uri(e._links.avatar.href);return r.addQueryParam("size",""+t,!0),r.absoluteUri}return e.descriptor?this._getIdentityAvatarUrl(e.descriptor):e.imageUrl||this._getIdentityImageUrlFromIdentityId(e.id,t)}_getIdentityAvatarUrl(e){let t=`_apis/GraphProfile/MemberAvatars/${e}`;const r=this.pageContext.getService("IVssPageService").getData();return r&&r.hostPath&&(t=(0,f.combineUrlPaths)(encodeURI(r.hostPath),t)),t}}m.Services.add("IVssIdentityService",{serviceFactory:r}),t[e].getIdentityImageUrl=function(e,t,r){return e.getService("IVssIdentityService").getIdentityImageUrl(t,r)}}("Identity"),function(e){t.KeyboardShortcuts={};const n="KeyboardShortcutsDisabled";class i extends m.VssService{constructor(){super(...arguments),this._originalStopCallback=window.Mousetrap.prototype.stopCallback,this._shortcutsEnabled=new r.ObservableValue(!0)}_serviceStart(e){super._serviceStart(e);const t=this;window.Mousetrap.prototype.stopCallback=function(e,r,n,i){return!t._globalCombos[n]&&!t._globalCombos[i]&&("true"===r.getAttribute("data-onlyglobalshortcuts")||t._originalStopCallback.call(this,e,r,n))},this.initializeService()}_serviceRestart(e){super._serviceRestart(e),this.initializeService()}getShortcutGroups(){return Object.keys(this._shortcutsGroups).map((e=>this._shortcutsGroups[e]))}getShortcutsEnabled(){return this._shortcutsEnabled}getGlobalCombos(){return Object.keys(this._globalCombos)}findNextReassignableGroupByName(e){let t,r=Number.MIN_SAFE_INTEGER;for(const n of this._reassignableShortcutsGroups)n.name===e&&n.sequenceNumber>r&&(r=n.sequenceNumber,t=n);return t}registerReassignableGroupShortcut(e,t){let r=this._reassignableShortcutsGroups.find((t=>t.name===e.name&&t.sequenceNumber===e.sequenceNumber));r||(r={name:e.name,sequenceNumber:e.sequenceNumber,shortcuts:[]},this._reassignableShortcutsGroups.push(r));const n=this.makeMoustrapShortcut(e.name,t);r.shortcuts.push(n)}makeMoustrapShortcut(e,t){const r=t=>{(0,E.publishEvent)(this.pageContext,"KeyboardShortcuts","ShortcutInvoked",{group:e,shortcut:t})};let n;const i=(e,n)=>!!this._shortcutsEnabled.value&&(r(n),t.isPageNavigationShortcut&&this.reset(),t.action(e,n),t.allowPropagation||!1);let s;if("string"==typeof t.element)try{s=document.querySelector(t.element)}catch(e){s=null}else s=t.element;s?(n=window.Mousetrap(s),n.bind(t.combos,i)):window.Mousetrap.bind(t.combos,i);const o=t.globalCombos||[];for(const e of t.combos)o.indexOf(e)>=0&&(this._globalCombos[e]=!0);const a=[];for(const e of t.combos)this._registeredCombos[e]||(a.push(e),this._registeredCombos[e]=!0);return Object.assign(Object.assign({},t),{combos:t.combos,combosToDisplay:t.hideFromHelpDialog?[]:a,mousetrapInstance:n})}registerShortcut(e,t){this._shortcutsGroups[e]||(this._shortcutsGroups[e]={name:e,shortcuts:[]});const r=this.makeMoustrapShortcut(e,t);this._shortcutsGroups[e].shortcuts.push(r)}unRegisterShortcut(e,t){if(this._registeredCombos[t]&&delete this._registeredCombos[t],!this._shortcutsGroups[e])return;const r=this._shortcutsGroups[e].shortcuts;let n=0,i=!1;for(;n<r.length;n++){const e=r[n];if(e.combos.indexOf(t)>=0){e.mousetrapInstance?e.mousetrapInstance.unbind(t):window.Mousetrap.unbind(t),1===e.combos.length&&(i=!0),delete this._globalCombos[t];break}}i&&(r.splice(n,1),0===r.length&&this.removeShortcutGroup(e))}removeShortcutGroup(e){if(!this._shortcutsGroups[e])return;const t=this._shortcutsGroups[e];delete this._shortcutsGroups[e],this.commonRemoveLogic(t)}removeReassignableShortcutGroup(e,t){const r=this._reassignableShortcutsGroups.findIndex((r=>r.name===e&&r.sequenceNumber===t));if(r<0)return;const n=this._reassignableShortcutsGroups[r];this._reassignableShortcutsGroups.splice(r,1),this.commonRemoveLogic(n);const i=this.findNextReassignableGroupByName(e);if(i){i.shortcuts.forEach((e=>{this.registerReassignableGroupShortcut({name:i.name,sequenceNumber:i.sequenceNumber},e)}))}}commonRemoveLogic(e){if(!e)return;e.shortcuts.forEach((e=>{e.mousetrapInstance?e.mousetrapInstance.unbind(e.combos):window.Mousetrap.unbind(e.combos);for(const t of e.combos)delete this._registeredCombos[t],delete this._globalCombos[t]}))}setShortcutsEnabled(e){(0,T.trySetLocalStorageValue)(n,e?void 0:"true"),this._shortcutsEnabled.value=e}initializeService(){this.reset();const e=this.pageContext.getService("IVssContributionService"),t=e.getContributionsByType("ms.vss-web.shortcut");this._shortcutsEnabled.value="true"!==(0,T.tryGetLocalStorageValue)(n);for(const r in t){const n=t[r];this.registerShortcut(n.group,{combos:n.combos,description:n.description,isPageNavigationShortcut:n.isPageNavigationShortcut,action:()=>{n.command?e.executeCommandEx(r,n.command):n.commandId&&e.executeCommand(n.commandId)}})}}reset(){window.Mousetrap.reset(),this._globalCombos={},this._registeredCombos={},this._shortcutsGroups={},this._reassignableShortcutsGroups=[]}}m.Services.add("IVssKeyboardShortcutService",{serviceFactory:i,options:6})}(),function(e){q=t[e]={};class r extends m.VssService{constructor(){super(...arguments),this._parsedRoutes={}}getAssetLocation(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_assets");if(t)return t[e];throw new Error(`Could not find asset for service ${e}. Ensure that the asset is added through a shared data value.`)}getServiceInstanceTypeForResourceArea(e){const t=this.pageContext.getService("IVssContributionService").getSharedData("_resourceAreas");if(t)return t[e]}getServiceLocation(e,t){const r=this.getServiceLocationLocal(e,t);if(!r)throw new Error(`Could not find location for service ${e} and hostType ${t}. Ensure that the requested service location is included in shared data.`);return r}getServiceLocationAsync(e,t){const r=this.getServiceLocationLocal(e,t);if(r)return Promise.resolve(r);const n=this.pageContext.getService("IVssPageService").getData(),i=this.pageContext.getService("IVssContributionService"),s={_sharedData:{locations:[{ServiceInstanceId:e&&n.isHosted?e:n.serviceInstanceType,HostType:t||n.hostType}]}};return i.getDataAsync("ms.vss-web.shared-data",s).then((()=>this.getServiceLocation(e,t)))}routeAbsoluteUrl(e,t,r){const n=this.routeUrl(e,t,r);return(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))+n}routeUrl(e,t,r){let n=this._parsedRoutes[e];if(!n){const t=this.pageContext.getService("IVssContributionService").getSharedData("_routes");if(t){const r=t[e];r&&(n=[],r.forEach((e=>{n.push((0,f.parseRouteTemplate)(e))})),this._parsedRoutes[e]=n)}}if(n){const e=(0,f.routeUrl)(n,t||{});if(!r){const e=this.pageContext.getService("IVssPageService").getData();e&&e.hostPath&&(r=e.hostPath)}if(r){const t=encodeURI(r);return(0,f.combineUrlPaths)(t,e)}}throw new Error(`Could not find route for route id ${e}. Ensure that the requested route is added to routes shared data.`)}getServiceLocationLocal(e,t){const r=this.pageContext.getService("IVssPageService").getData();t||(t=r.hostType),e&&r.isHosted||(e=r.serviceInstanceType);const n=this.pageContext.getService("IVssContributionService").getSharedData("_locations");if(n){const r=n[e];if(r){const e=r[t];if(e)return e}}}}m.Services.add("IVssLocationService",{serviceFactory:r}),t[e].getAssetLocation=function(e,t){return e.getService("IVssLocationService").getAssetLocation(t)},t[e].getServiceLocation=function(e,t,r){return e.getService("IVssLocationService").getServiceLocation(t,r)},t[e].routeUrl=function(e,t,r,n){return e.getService("IVssLocationService").routeUrl(t,r,n)}}("Location"),function(e){t.PlatformRestErrorHandler={};class r extends m.VssService{constructor(){super(...arguments),this._handlingError=!1,this._errorHandlingLastFailed=0,this._requestBlocker=Promise.resolve()}_serviceStart(e){super._serviceStart(e),this._queueingEnabled=(0,N.isFeatureFlagEnabled)(e,"VisualStudio.Service.WebPlatform.ContributedRestErrorHandlerQueueing",!1),this._errorHandlingEnabled=(0,N.isFeatureFlagEnabled)(e,"VisualStudio.Service.WebPlatform.ContributedRestErrorHandlers",!1)}requestsEnabled(){return this._queueingEnabled?this._requestBlocker:Promise.resolve()}async handleError(e,t,r,n){if(!this._errorHandlingEnabled||Date.now()<this._errorHandlingLastFailed+1e4)return 2;if(this._handlingError)return this._queueingEnabled?(await this.requestsEnabled(),1):2;let i;try{this._handlingError=!0,this._requestBlocker=new Promise((e=>i=e));const s=this.pageContext.getService("IVssContributionService"),o=null==s?void 0:s.getContributionChildren("ms.vss-web.rest-error-handler-root");if(o)for(const i of o){const o=s.getServiceSync(i);if(o){let i;if(i=r instanceof XMLHttpRequest?await o.handleOldPlatError(e,t,r,n):await o.handleError(e,t,r,n),1===i)return 1}}}catch(e){n.restErrorHandlerServiceError=e}finally{this._handlingError=!1,i&&i()}return this._errorHandlingLastFailed=Date.now(),2}}m.Services.add("IPlatformRestErrorHandlerService",{serviceFactory:r})}(),function(e){j=t[e]={};class r extends m.VssService{hasClaim(e){if(!this.claims){const e=this.pageContext.getService("IVssContributionService");this.claims=e.getData("ms.vss-web.user-claims-data")||this.getDefaultClaims()}return e=(e||"").toLowerCase(),this.claims[e]}getDefaultClaims(){const e={member:!0};return e}}m.Services.add("IVssUserClaimsService",{serviceFactory:r}),t[e].userHasClaim=function(e,t){return e.getService("IVssUserClaimsService").hasClaim(t)}}("UserClaims"),function(e){t.RestClientOptionsProvider={};class r extends m.VssService{populateRestClientOptions(e,t){const r=Object.assign({pageContext:this.pageContext,errorHandler:n},t);r.resourceAreaId||(r.resourceAreaId=null==e?void 0:e.resourceAreaId);const i=this.pageContext.getService("IVssPageService").getData();if(i&&(r.sessionId||(r.sessionId=i.sessionId),!r.rootPath)){const t=r.hostType;let n=r.serviceInstanceType;if(!n&&e){if(e.resourceAreaId){n=this.pageContext.getService("IVssLocationService").getServiceInstanceTypeForResourceArea(e.resourceAreaId)}n||(n=e.serviceInstanceType)}if(!r.authTokenProvider){const e=this.pageContext.getService("ITokenProviderService").getDefaultProvider();e&&(r.authTokenProvider=e)}if(i.isHosted&&n&&n!==i.serviceInstanceType||t&&t!==i.hostType){if(i.isHosted&&(0,j.userHasClaim)(this.pageContext,"member")&&!r.authTokenProvider){const e=this.pageContext.getService("IAuthenticationService");r.authTokenProvider=e.getDefaultTokenProvider()}r.rootPath=(0,q.getServiceLocation)(this.pageContext,n,r.hostType)}else r.rootPath=i.hostPath||"/"}return r}}function n(e,t,r,n,i){return e.getService("IPlatformRestErrorHandlerService").handleError(t,r,n,i)}m.Services.add("IRestClientOptionsProviderService",{serviceFactory:r})}(),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async queryDataProviders(e,t,r){return this.beginRequest({apiVersion:"3.2-preview.1",method:"POST",routeTemplate:"_apis/Contribution/dataProviders/query/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:r},body:e})}}t[e].ContributionsClientName="IContributionsRestClient",t[e].getContributionsClient=function(r,n){return r.getRestClient(t[e].ContributionsClientName,n)},m.RestClients.add(t[e].ContributionsClientName,{factory:r})}("RestClientContributions"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async getResourceArea(e,t,r,n){const i={enterpriseName:t,organizationName:r,accessMapping:n};return this.beginRequest({apiVersion:"4.0-preview.1",routeTemplate:"_apis/ResourceAreas/{areaId}",routeValues:{areaId:e},queryParams:i})}async getResourceAreaByHost(e,t,r){const n={hostId:t,accessMapping:r};return this.beginRequest({apiVersion:"4.0-preview.1",routeTemplate:"_apis/ResourceAreas/{areaId}",routeValues:{areaId:e},queryParams:n})}}t[e].LocationsClientName="ILocationsRestClient",t[e].getLocationsClient=function(r,n){return r.getRestClient(t[e].LocationsClientName,n)},m.RestClients.add(t[e].LocationsClientName,{factory:r})}("RestClientLocations"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async attestProofOfPresence(e){return this.beginRequest({apiVersion:"7.2-preview.1",method:"POST",routeTemplate:"_apis/ProofOfPresence/Attestation",body:e})}}t[e].ProofOfPresenceClientName="IProofOfPresenceRestClient",t[e].getProofOfPresenceClient=function(r,n){return r.getRestClient(t[e].ProofOfPresenceClientName,n)},m.RestClients.add(t[e].ProofOfPresenceClientName,{factory:r})}("RestClientProofOfPresence"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async attestProofOfPresence(e){return this.beginRequest({apiVersion:"7.2-preview.1",method:"POST",routeTemplate:"_apis/ProofOfPresenceFido2/Attestation",body:e})}}t[e].ProofOfPresenceFido2ClientName="IProofOfPresenceFido2RestClient",t[e].getProofOfPresenceFido2Client=function(r,n){return r.getRestClient(t[e].ProofOfPresenceFido2ClientName,n)},m.RestClients.add(t[e].ProofOfPresenceFido2ClientName,{factory:r})}("RestClientProofOfPresenceFido2"),function(e){t[e]={};class r extends S.RestClientBase{constructor(e){super(e)}async getEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:e,key:t}})}async removeEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",method:"DELETE",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:e,key:t}})}async setEntries(e,t){return this.beginRequest({apiVersion:"4.1-preview.1",method:"PATCH",routeTemplate:"_apis/Settings/Entries/{userScope}/{*key}",routeValues:{userScope:t},body:e})}async getEntriesForScope(e,t,r,n){return this.beginRequest({apiVersion:"4.1-preview.1",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:e,scopeName:t,scopeValue:r,key:n}})}async removeEntriesForScope(e,t,r,n){return this.beginRequest({apiVersion:"4.1-preview.1",method:"DELETE",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:e,scopeName:t,scopeValue:r,key:n}})}async setEntriesForScope(e,t,r,n){return this.beginRequest({apiVersion:"4.1-preview.1",method:"PATCH",routeTemplate:"_apis/Settings/{scopeName}/{scopeValue}/Entries/{userScope}/{*key}",routeValues:{userScope:t,scopeName:r,scopeValue:n},body:e})}}t[e].SettingsClientName="ISettingsRestClient",t[e].getSettingsClient=function(r,n){return r.getRestClient(t[e].SettingsClientName,n)},m.RestClients.add(t[e].SettingsClientName,{factory:r})}("RestClientSettings"),function(e){t.Search={};class r extends m.VssObservableService{execute(e){const t=this.pageContext.getService("IVssContributionService"),r=t.getContributionsByType("ms.vss-web.search-coordinator");let n,i;for(const e in r)(!i||r[e].priority>i.priority)&&(n=e,i=r[n]);return n?t.getService(n).then((t=>{if(t)return t.execute(e).then((e=>(this._notify(e,"searchStarted"),e)));throw new Error("Failed to create the configured search coordinator")})):Promise.reject("No search coordinator is available to perform the search operation.")}getProviders(){return this.pageContext.getService("IVssContributionService").getContributionsByType("ms.vss-web.search-provider")}getSelectedProvider(){let e=this.selectedProviderId||this.defaultProviderId;if(!e){const t=this.getProviders(),r=Object.keys(t);if(r.length>0){const n=this.pageContext.getService("IVssNavigationService"),i=n.getDisplayedNavigation(),s=[];for(let e=i.length-1;e>=0;e--){const t=n.getNavigation(i[e]);t&&t.displayedDocTypes&&s.splice(i.length,0,...t.displayedDocTypes)}e:for(const r of s)for(const n in t){const i=t[n];if(i.supportedDocTypes&&-1!==i.supportedDocTypes.indexOf(r)){e=n;break e}}if(!e){e=r[0];for(const r in t){const n=t[r],i=t[e];void 0!==n.priority&&(void 0===i.priority||n.priority>i.priority)&&(e=r)}}this.defaultProviderId=e}}return e}setSelectedProvider(e){this.getProviders()[e]&&(this.selectedProviderId=e,this._notify(this.selectedProviderId,"providerSelected"))}}m.Services.add("IVssSearchService",{serviceFactory:r})}(),function(e){t.Security={};class r extends m.VssService{hasPermission(e,t,r){const n=this.pageContext.getService("IVssContributionService").getSharedData("_permissions");if(!n)return this.handleMissingState("No shared permissions found");const i=n[e.toLowerCase()];if(!i)return this.handleMissingState(`Security namespace with id '${e}' not found`);const s=i[t];return void 0===s?this.handleMissingState(`No permissions found for security namespace '${e}' and token '${t}'`):(r&s)>0}checkPermission(e,t,r){if(!this.hasPermission(e,t,r))throw new Error(`Access denied: Permission ${r} is needed for the resource ${t}.`)}handleMissingState(e){return console.error(`${e}. Ensure that the effective permissions are included in shared data.`),!1}}m.Services.add("IVssSecurityService",{serviceFactory:r})}(),function(e){t.ServiceWorker={};const r="serviceWorker-reloading";class n extends m.VssService{constructor(){super(...arguments),this._serviceWorkerRegistrationStarted=!1}_serviceStart(e){super._serviceStart(e),this._setupServiceWorker()}_serviceRestart(e){super._serviceRestart(e),this._serviceWorkerRegistrationStarted||this._setupServiceWorker()}_setupServiceWorker(){try{const e=this.pageContext.getService("IVssLocationService");let t;try{t=e.routeUrl("ms.vss-web.service-worker-route")}catch(e){}if(t){(async()=>{if("serviceWorker"in navigator)try{await navigator.serviceWorker.register(t),navigator.serviceWorker.ready.then((e=>{navigator.serviceWorker.controller?(0,T.trySetSessionStorageValue)(r,void 0):"true"!==(0,T.tryGetSessionStorageObject)(r)?(console.log("reloading to run under the service worker"),(0,T.trySetSessionStorageValue)(r,"true"),window.location.reload()):(console.error("service worker reload loop detected. continuing without the service worker"),(0,R.traceError)(this.pageContext,"WebPlatform","ServiceWorker","Service worker reload loop detected"))}))}catch(e){console.error("Service worker registration failed: "+e)}})(),this._serviceWorkerRegistrationStarted=!0}}catch(e){console.log("Error configuring service worker: "+e)}}}m.Services.add("IVssServiceWorkerService",{serviceFactory:n,options:6})}(),function(e){t.Settings={};const r=Promise.resolve({value:{},count:0}),n=Promise.resolve();class i extends m.VssService{getEntry(e,t,r,n){const i=this.getEntriesForKey(t,r,n);if(i){const t=i[e];if(void 0!==t)return t;const r=e.split("/");for(let e=r.length-2;e>=0;e--){const t=i[r.slice(0,e+1).join("/")];if(t){let n=t;for(let t=e+1;t<r.length&&n;t++)n=n[r[t]];return n}}}}getEntriesAsync(e,t,n,i){if(!this.canCallSettingsEndpoint)return r;let s;return s=n?this.httpClient.getEntriesForScope(this.userScopeToString(t),n,i,e):this.httpClient.getEntries(this.userScopeToString(t),e),s.then((r=>this.updateLocalEntries(e,r,t,n,i)))}setEntries(e,t,r,i){if(!this.canCallSettingsEndpoint)return n;for(const n in e)this.updateLocalEntries(n,e[n],t,r,i);return r?this.httpClient.setEntriesForScope(e,this.userScopeToString(t),r,i):this.httpClient.setEntries(e,this.userScopeToString(t))}removeEntries(e,t,r,i){return this.canCallSettingsEndpoint?(this.updateLocalEntries(e,void 0,t,r,i),r?this.httpClient.removeEntriesForScope(this.userScopeToString(t),r,i,e):this.httpClient.removeEntries(this.userScopeToString(t),e)):n}userScopeToString(e){return 2===e?"globalme":1===e?"host":"me"}get httpClient(){return this._httpClient||(this._httpClient=this.pageContext.getRestClient("ISettingsRestClient")),this._httpClient}get canCallSettingsEndpoint(){return void 0===this._canCallSettingsEndpoint&&(this._canCallSettingsEndpoint=(0,j.userHasClaim)(this.pageContext,"member")),this._canCallSettingsEndpoint}updateLocalEntries(e,t,r,n,i){const s=this.getEntriesForKey(r,n,i);if(s){s[e]=t;const r=e.split("/");for(let e=r.length-2;e>=0;e--){const n=s[r.slice(0,e+1).join("/")];if(n){let i=n;for(let t=e+1;t<r.length-1&&i;t++){let e=i[r[t]];e||(e=i[r[t]]={}),i=e}i[r[r.length-1]]=t}}}return t}getEntriesForKey(e,t,r){let n;if(this.canCallSettingsEndpoint){const i=this.pageContext.getService("IVssContributionService").getSharedData("_settings");if(i){let s=this.userScopeToString(e);t&&(s+=";"+t+";"+(r||"")),n=i[s]}}return n}}m.Services.add("ISettingsService",{serviceFactory:i})}(),function(e){t.StartRightExtension={};class r extends m.VssService{navigateToCreateRepository(e){return this.navigate(e,"#repository",L.START_RIGHT_CREATE_REPO_FEATURE)}navigateToImportRepository(e){return this.navigate(e,"#repository/import",L.START_RIGHT_IMPORT_REPO_FEATURE)}navigateToForkRepository(e,t){const r=`?repositoryId=${encodeURIComponent(t)}`+"#repository/fork",n={RepositoryId:t};return this.navigate(e,r,L.START_RIGHT_FORK_REPO_FEATURE,n)}getCreatePipelineUrl(e){return this.getNavigationUrl(e,"#pipeline",L.START_RIGHT_CREATE_PIPELINE_URL_FEATURE)}getCreatePipelineUrlByRepository(e,t,r,n){const i=`?sourceProvider=TfsGit&repositoryId=${encodeURIComponent(t)}&repositoryName=${encodeURIComponent(r)}&branch=${encodeURIComponent(n)}&sourceProviderComplete=true`+"#pipeline",s={RepositoryId:t,RepositoryName:r,RefName:n};return this.getNavigationUrl(e,i,L.START_RIGHT_CREATE_PIPELINE_URL_REPOSITORY_FEATURE,s)}getCreatePipelineUrlByPipelineFolder(e,t){const r=`?pipelinePath=${encodeURIComponent(t)}`+"#pipeline",n={PipelineFolderPath:t};return this.getNavigationUrl(e,r,L.START_RIGHT_CREATE_PIPELINE_URL_FOLDER_FEATURE,n)}getStartRightBaseUrl(e){const t=e.getService("IVssNavigationService").getNavigation("ms-1es.startright.startright-group");if(t)return t.href}getNavigationUrl(e,t,r,n={}){const i=this.getStartRightBaseUrl(e);if(i){try{e.getService("IVssTelemetryService").publishEvent(L.START_RIGHT_AREA,r,n)}catch(e){}return i+t}}navigate(e,t,r,n){const i=this.getNavigationUrl(e,t,r,n);return void 0!==i&&((0,A.onClickFPS)(e,i,!0),!0)}}m.Services.add("IStartRightExtensionService",{serviceFactory:r,options:4})}(),function(e){function r(e,t){if(e.contains(t))return!0;const r=e.getAttribute("aria-owns");if(r&&n(r,t))return!0;const i=e.querySelectorAll("[aria-owns]");for(let e=0;e<i.length;e++){if(n(i[e].getAttribute("aria-owns"),t))return!0}return!1}function n(e,t){const n=document.querySelector("[id='"+e+"']");return!(!n||!r(n,t))}t[e]={},t[e].contains=r}("UtilDOM"),function(e){t[e]={};const r="vstfs:///";function n(e){let t;return t=e.replace(/\+/g," "),t=decodeURIComponent(t),t}t[e].encodeUri=function(e){return r+[encodeURIComponent(e.tool),encodeURIComponent(e.type),encodeURIComponent(e.id)].join("/")},t[e].decodeUri=function(e){let t,i;if(e.length>9&&(t=e.substr(0,9).toLowerCase(),t===r&&(i=e.substr(9).split("/"),i.length>=3))){const t=i[0],r=i[1],s=i.slice(2).join("/");return{uri:e,tool:n(t),type:n(r),id:n(s)}}throw new Error(`Invalid artifact uri: ${e}`)}}("UtilLinking"),function(e){function r(e,t,r){e=e.trim();const n=(0,O.getInvariantCulture)(),i=null!=t?t:n.numberFormat.NumberDecimalSeparator,s=null!=r?r:n.numberFormat.NumberGroupSeparator,o=[" ","","",""].includes(s)?"s":s;let a,c;const u=e.indexOf(i);if(u<0?(a=e,c=null):(a=e.substr(0,u),c=e.substr(u+1)),o){const e=new RegExp("\\"+o,"g");a=a.split(e).join("")}const l=a+(c?"."+c:"");return l.match(/^[+-]?\d*\.?\d*$/)?parseFloat(l):Number.NaN}t[e]={},t[e].parseFloatLocale=function(e,t=navigator.language){return r(e,Intl.NumberFormat(t).format(1.1)[1],Intl.NumberFormat(t).format(1e3)[1])},t[e].parseFloatWithLocale=function(e,t){const n=null!=t?t:(0,O.getInvariantCulture)();return r(e,n.numberFormat.NumberDecimalSeparator,n.numberFormat.NumberGroupSeparator)}}("UtilNumber")}),["Resources","Util/Serialization","Contracts/Platform","Context","Util/Cookie","IssueRequest","Content","IPlatformRestErrorHandler","Util/Url","RestClientBase","RestClient/WebContributions","Util/Object","Contribution","TokenProvider","Fetch","Page","RestClient/CustomerIntelligence","Util/Array","Util/Storage","Telemetry","Theming","Performance","Layout","Navigation","RestClient/ClientTrace","Trace","AuthenticatedBlobService","RestClient/Authentication","Authentication","Components/ErrorBoundary/ErrorBoundary","Components/ErrorBoundary","Components/Format/Format","Components/Format","Components/Layout/Layout","Components/Layout","Feature","History","FPS","Components/FPSLink/FPSLink","Components/FPSLink","Components/Performance/Performance","Components/Performance","CustomerIntelligenceConstants","Culture","String","Date","Fallback","Identity","KeyboardShortcuts","Location","PlatformRestErrorHandler","UserClaims","RestClientOptionsProvider","RestClient/Contributions","RestClient/Locations","RestClient/ProofOfPresence","RestClient/ProofOfPresenceFido2","RestClient/Settings","Search","Security","ServiceWorker","Settings","StartRightExtension","Util/DOM","Util/Linking","Util/Number"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-web.platform-content"}}));