"use strict";define("TFS/Admin/Common/Providers",["require","exports","VSS/Features/Identities/IdentityPickerProvider","VSS/Features/Identities/IdentityService","react","VSSUI/IdentityCard"],(function(e,t,i,n,r,s){!function(e){t[e]={};t[e].CustomPeoplePickerProvider=class{constructor(e,t,r){this.currentPersonas=[],this.onFilterIdentities=(e,t)=>{const i=this.peoplePickerProvider.onFilterIdentities(e,t),n=i,r=i;if(""!==e){const t={displayName:e,entityId:e,entityType:"custom",originDirectory:"custom",originId:""};if(Array.isArray(n))return n.unshift(t),n;if(r&&r.then)return r.then((e=>(e.unshift(t),n)))}return i},this.addIdentitiesToMRU=e=>this.identityService.addMruIdentitiesAsync(e),this.getEntityFromUniqueAttribute=e=>this.currentPersonas.filter((t=>t.entityId===e))[0],this.onRequestConnectionInformation=(e,t)=>({managers:[],directReports:[]}),this.onEmptyInputFocus=()=>[],this.peoplePickerProvider=new i.PeoplePickerProvider(e,{identityTypes:t,options:{MinResults:5,MaxResults:20}}),this.identityService=e.getService(n.VssIdentityServiceName)}}}("CustomPeoplePickerProvider"),function(e){t[e]={};t[e].PersonaDetailsProvider=class{constructor(e){this.onRequestConnectionInformation=(e,t)=>e?this.identityService.getConnections(e,t):{},this.getEntityFromUniqueAttribute=e=>this.identityService.searchIdentitiesAsync(e,["user","group"],this.pageData.isHosted?["ims","source"]:["ims","source","ad"],"uid").then((e=>e[0])),this.renderIdentityCard=(e,t,i,n)=>{const o=e.entityId?e.entityId:e.subjectDescriptor;return r.createElement(s.IdentityCard,{target:n,onDismissCallback:i,uniqueAttribute:o,displayName:e.displayName,onRequestConnectionInformation:t.onRequestConnectionInformation,getEntityFromUniqueAttribute:t.getEntityFromUniqueAttribute})},this.identityService=e.getService(n.VssIdentityServiceName),this.pageData=e.getService("IVssPageService").getData()}}}("PersonaDetailsProvider")}),["CustomPeoplePickerProvider","PersonaDetailsProvider"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-admin-web.admin-common-providers-content"}}));